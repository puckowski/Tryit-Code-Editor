!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return g})),n.d(t,"b",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return S}));const i="undefined"!=typeof window;var r=i?window:e;i||(r.setTimeout=()=>{},r.setInterval=()=>{},r.location={},r.location.href="",r.fetch=()=>{},r.XMLHttpRequest={},r.XMLHttpRequest.prototype={},r.XMLHttpRequest.prototype.send=()=>{}),r.s=function(){};const o=r.setTimeout,c=r.setInterval;Object.defineProperty(s,"DETACHED_SET_TIMEOUT",{value:o.bind(r)}),Object.defineProperty(s,"DETACHED_SET_INTERVAL",{value:c.bind(r)}),s._state={},s._destroyFuncMap=new Map,s._updateMap=new Map,s._afterInitArr=[];const l=({tagName:e,attrs:t,children:n})=>{let i,r=document.createElement(e);for(let[e,n]of Object.entries(t))"function"==(i=typeof n)?(r[e]=n,s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&v(e,r)):r.setAttribute(e,n);for(let e of n)if("string"==typeof e)r.append(e);else{if(e.view){if(e.slOnInit&&e.slOnInit(),e.slOnDestroy){let t=s._destroyFuncMap.get(s._router.mountRoute);t||(t=[]),t.push(e.slOnDestroy.bind(e)),s._destroyFuncMap.set(s._router.mountRoute,t)}e.slAfterInit&&s._afterInitArr.push(e.slAfterInit.bind(e)),e=e.view.bind(e)()}r.appendChild(l(e))}return r},a=(e,t,n)=>{let i;for(let i of t){let t=n[i.name];t?t.length===i.nodeValue.length&&t===i.nodeValue&&delete n[i.name]:e.removeAttribute(i.nodeName)}for(let[t,r]of Object.entries(n))"function"==(i=typeof r)?(e[t]=r,s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&v(t,e)):e.setAttribute(t,r)},d=(e,t,n)=>{const i=t.length;let r=0;for(let e=t.length-1;e>=0;--e)h(t[e],n[e]),r++;for(;t.length>i;)t[t.length-1].remove();for(let t of n.slice(i)){if("string"==typeof t)e.childNodes[r]?e.childNodes[r].textContent!==t&&(e.childNodes[r].textContent=t):e.append(t);else if("string"==typeof t)e.append(t);else{if(t.view){if(t.slOnInit&&t.slOnInit(),t.slOnDestroy){let e=s._destroyFuncMap.get(s._router.mountRoute);e||(e=[]),e.push(t.slOnDestroy.bind(t)),s._destroyFuncMap.set(s._router.mountRoute,e)}t.slAfterInit&&s._afterInitArr.push(t.slAfterInit.bind(t)),t=t.view.bind(t)()}e.appendChild(l(t))}r++}for(;t.length>n.length;)t[t.length-1].remove()},h=(e,t)=>{if(t&&t.view){if(t.slOnInit&&t.slOnInit(),t.slOnDestroy){let e=s._destroyFuncMap.get(s._router.mountRoute);e||(e=[]),e.push(t.slOnDestroy.bind(t)),s._destroyFuncMap.set(s._router.mountRoute,e)}t.slAfterInit&&s._afterInitArr.push(t.slAfterInit.bind(t)),t=t.view.bind(t)()}if(t){if(e&&e.tagName!==t.tagName){if(!t.tagName)return e.replaceWith(t),void(e=t);{let n=document.createElement(t.tagName);e.parentNode.insertBefore(n,e),e=n}}if("string"!=typeof t){if(!t.attrs.sluseexisting)if(t.attrs.slonlychildren)d(e,e.childNodes,t.children);else if(t.attrs.slonlyself)a(e,e.attributes,t.attrs);else{if(t.attrs.sltrustchildren){a(e,e.attributes,t.attrs);let n="";return t.children.forEach(e=>{n+=e}),void(e.innerHTML!==n&&(e.innerHTML=n))}a(e,e.attributes,t.attrs),d(e,e.childNodes,t.children)}}else e.textContent!==t&&(e.textContent=t)}else e&&e.remove()},u=(e,t,n)=>{s._afterInitArr=[],t.slOnInit&&t.slOnInit();let i=t.view.bind(t)();if(i.view&&(i=i.view.bind(t)()),!i.attrs||e&&e.id!==i.attrs.id){const t=i.attrs?i.attrs.id:"null";console.error("Mounted component root element changed from "+e.id+" to "+t)}return h(e,i),n&&s._updateMap.set(e.id,t),t.slAfterInit&&(t.slAfterInit(),w()),s._afterInitArr.forEach(e=>{e()}),e};function g(e){s._state=e}function f(){return s._state}function p(e){return String(e)}function b(e,{attrs:t={},children:n=[]}={}){return{tagName:e=e.toUpperCase(),attrs:t,children:n}}function m(e,t,n=!0){s._router.mountRoute=e;let i=document.getElementById(e);if(null!==i)return u(i,t,n);console.error("ID "+e+" does not exist in DOM.")}let j=r.onpopstate;r.onpopstate=function(e){r.location.hash&&s._router.lastHash!==r.location.hash.substring(1)&&(j&&j(e),function e(t,n={},i=!0){if(s._router.params=n,s._router.currentRoute&&s._router.currentRoute.onCanDeactivate&&!s._router.currentRoute.onCanDeactivate(t))return;let o=null;for(let[n,c]of s._router.routeList)if(n.test(t)){if(c.onActivationCheck&&!c.onActivationCheck(t))return c.onActivationFail&&(o=e(c.onActivationFail.route,c.onActivationFail.params,"boolean"!=typeof c.onActivationFail.attachDetector||c.onActivationFail.attachDetector)),void(t=void 0);c.onBeforeRoute&&c.onBeforeRoute();const n=s._destroyFuncMap.get(O());n&&(n.forEach(e=>{e()}),s._destroyFuncMap.set(O(),[])),s._router.lastHash=t,r.location.hash=t,y(),s._router.currentRoute=c;let l=document.getElementById(c.root);c.component&&(c.component.slOnDestroy&&s._destroyFuncMap.set(t,[c.component.slOnDestroy.bind(c.component)]),s._router.mountRoute=t,u(l,c.component,i),o=c.component);break}return s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&w(),o}(O()))},s._router={segmentArr:[],routeList:[],params:null,lastHash:!1,currentRoute:null,mountRoute:""},Object.seal(s._router);const y=()=>{let e=r.location.href.split("#")[1];if(e){let t=e.split("/");t.forEach((e,t)=>{s._router.segmentArr[t]=e}),s._router.segmentArr.splice(t.length,s._router.segmentArr.length)}else s._router.segmentArr.splice(0,s._router.segmentArr.length)};function O(){return r.location.href.split("#")[1]}y(),s.CHANGE_STRATEGY_AUTOMATIC=100,s.CHANGE_STRATEGY_MANUAL=200,s.CHANGE_DETECTOR_DETACHED=!1,s.CHANGE_DETECTOR_ATTACHED=!0,s._changeStrategies=[s.CHANGE_STRATEGY_AUTOMATIC,s.CHANGE_STRATEGY_MANUAL],s._changeDetector={lastUpdateDate:new Date,changeDetectionStrategy:s.CHANGE_STRATEGY_AUTOMATIC},Object.seal(s._changeDetector),Object.freeze(s._changeStrategies);const v=(e,t)=>{if(t[e]){let n=t[e];t[e]=function(){let e=n.apply(this,[].slice.call(arguments));return w(),e}}};const x=()=>{s._updateMap.forEach((e,t)=>{!function(e,t){const n=e;if(e=document.getElementById(e)){let n=t.view.bind(t)();h(e,n)}else console.error("ID "+n+" not mounted in DOM; attachDetector likely needs to be called.");s._afterInitArr.forEach(e=>{e()})}(t,e)})},w=()=>{s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&(new Date-s._changeDetector.lastUpdateDate>17?x():s._debouncedPerformUpdates(),s._changeDetector.lastUpdateDate=new Date)};function S(){x()}s._debouncedPerformUpdates=function(e,t){let n;return function(...i){const r=this;clearTimeout(n),n=s.DETACHED_SET_TIMEOUT(()=>e.apply(r,i),t)}}(x,17);let C=r.XMLHttpRequest.prototype.send;function I(){if(this._onreadystatechange){let e=this._onreadystatechange.apply(this,arguments);return w(),e}}r.XMLHttpRequest.prototype.send=function(e){return this.onreadystatechange&&(this._onreadystatechange=this.onreadystatechange),this.onreadystatechange=I,C.apply(this,arguments)};let F=r.fetch;r.fetch=function(){let e=F.apply(this,arguments);return w(),e},v("setTimeout",r),v("setInterval",r)}).call(this,n(1))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var i=n(0);var r=class{constructor(){this.fileListObject="filelist",this.initializeFileList()}getFile(e){return this.getFileList().find(t=>t.index===e)}getFileData(e){const t=this.getFileList().find(t=>t.index===e);return t?t.data:""}getFileList(){const e=localStorage.getItem(this.fileListObject);return JSON.parse(e)}addFile(e=null,t=!1,n=!1){const i=this.getFileList();let r=0;const o=new Set(i.map(e=>e.index));for(;o.has(r);)r++;const c=this.getFileObject(r);null!=e&&(c.data=e,c.injectScript=t,c.injectCss=n),i.push(c),this.setFileList(i)}removeFile(e){let t=this.getFileList();t=t.filter(t=>t.index!==e),this.setFileList(t)}updateFileData(e,t){const n=this.getFileList(),i=n.find(t=>t.index===e);i&&(i.data=t),this.setFileList(n)}updateFileInject(e,t=null){const n=this.getFileList(),i=n.find(t=>t.index===e);i&&(i.injectScript?i.injectScript=null==t?!i.injectScript:t:i.injectScript=null==t||t),this.setFileList(n)}updateFileInjectCss(e,t=null){const n=this.getFileList(),i=n.find(t=>t.index===e);i&&(i.injectCss?i.injectCss=null==t?!i.injectCss:t:i.injectCss=null==t||t),this.setFileList(n)}setFileName(e,t){const n=this.getFileList(),i=n.find(t=>t.index===e);i&&(i.name=t),this.setFileList(n)}setFileList(e){localStorage.setItem(this.fileListObject,JSON.stringify(e))}getFileObject(e){return{name:"",index:e,data:"",injectScript:!1,injectCss:!1}}initializeFileList(){const e=localStorage.getItem(this.fileListObject);if(null==e||null==e)localStorage.setItem(this.fileListObject,JSON.stringify([]));else{const t=JSON.parse(e);Array.isArray(t)||localStorage.setItem(this.fileListObject,JSON.stringify([]))}}};var o=class{constructor(){this.fileService=new r,this.editNameIndex=-1,this.editedFileName=""}onEditName(e){this.editNameIndex=e;const t=this.fileService.getFile(e);this.editedFileName=t.name?t.name:""}onFinishEditName(e){this.fileService.setFileName(e,this.editedFileName),this.editedFileName="",this.editNameIndex=-1}onFileNameInput(e){this.editedFileName=e.target.value}onFileSelection(e){const t=Object(i.b)();t.setEditIndex(e),t.getDataSubject().next(!0),Object(i.e)(t)}onRemoveFile(e){this.fileService.removeFile(e),Object(i.b)().getDataSubject().next(!0)}onToggleInject(e){this.fileService.updateFileInject(e),this.fileService.updateFileInjectCss(e,!1),Object(i.b)().getDataSubject().next(!0)}onToggleInjectCss(e){this.fileService.updateFileInjectCss(e),this.fileService.updateFileInject(e,!1),Object(i.b)().getDataSubject().next(!0)}view(){const e=this.fileService.getFileList(),t=Object(i.b)().getEditIndex();return Object(i.c)("div",{attrs:{style:"background-color: rgb(32, 35, 39); color: rgb(204, 204, 204); overflow: auto; max-height: inherit;"},children:[...Array.from(e,e=>Object(i.c)("div",{attrs:{...t!==e.index&&{style:"padding: 0.5rem;"},...t===e.index&&{style:"padding: 0.5rem; background-color: rgb(60, 68, 83);"},onclick:this.onFileSelection.bind(this,e.index)},children:[Object(i.c)("button",{attrs:{style:"margin: 0 0.5rem 0.5rem 0; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204);",...e.index!==this.editNameIndex&&{onclick:this.onEditName.bind(this,e.index)},...e.index===this.editNameIndex&&{onclick:this.onFinishEditName.bind(this,e.index)}},children:[...e.index===this.editNameIndex?[Object(i.f)("Save Name")]:[Object(i.f)("Edit Name")]]}),Object(i.c)("button",{attrs:{style:"margin-right: 0 0.5rem 0.5rem 0; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204);",onclick:this.onRemoveFile.bind(this,e.index)},children:[Object(i.f)("Remove File")]}),Object(i.c)("div",{children:[Object(i.f)("File "+(e.index+1)+": "+e.name)]}),...e.index===this.editNameIndex?[Object(i.c)("input",{attrs:{style:" 0 0.5rem 0.5rem 0.5rem",oninput:this.onFileNameInput.bind(this),value:this.editedFileName}})]:[],Object(i.c)("div",{children:[Object(i.c)("span",{attrs:{style:"margin-right: 0.25rem;"},children:[Object(i.f)("Inject Script")]}),Object(i.c)("input",{attrs:{type:"checkbox",...e.injectScript&&{checked:"true"},onchange:this.onToggleInject.bind(this,e.index)}})]}),Object(i.c)("div",{children:[Object(i.c)("span",{attrs:{style:"margin-right: 0.25rem;"},children:[Object(i.f)("Inject CSS")]}),Object(i.c)("input",{attrs:{type:"checkbox",...e.injectCss&&{checked:"true"},onchange:this.onToggleInjectCss.bind(this,e.index)}})]})]}))]})}};var c=class{constructor(){}view(){return Object(i.c)("div",{attrs:{style:"padding: 0.25rem; background-color: rgb(21, 24, 30); color: rgb(204, 204, 204); overflow: auto; height: calc(100% - 0.5rem); display: flex; flex-direction: column;"},children:[Object(i.c)("div",{attrs:{style:"flex: 20;"},children:[Object(i.c)("h4",{attrs:{style:"margin: 0px;"},children:[Object(i.f)("Code Editor Help")]}),Object(i.c)("p",{children:[Object(i.f)("Click Add File to add a new file. Toggle Inject Script to inject the file as a <script> tag in the <head> of the preview. Toggle Inject CSS to inject the file as a <style> tag in the <head> of the preview.")]}),Object(i.c)("p",{children:[Object(i.f)("Click Expand and Shrink to change the size of the Code Editor.")]}),Object(i.c)("p",{children:[Object(i.f)("Click Run to update the preview.")]}),Object(i.c)("p",{children:[Object(i.f)("Click Export to export the preview page HTML.")]}),Object(i.c)("p",{children:[Object(i.f)("Click Import File to import a file's contents into the source panel.")]}),Object(i.c)("p",{children:[Object(i.f)("Click Import Workspace to import a previously exported HTML file. This may create multiple files.")]}),Object(i.c)("p",{children:[Object(i.f)("Click Toggle Preview on small screens to toggle the preview.")]}),Object(i.c)("p",{children:[Object(i.f)("Click Clear Console to clear the preview console.")]})]})]})}};var s=class{constructor(){this.fileService=new r,this.injectedList="",this.onFileChangeFunction=()=>{this.injectedList="Injected files: ";const e=document.getElementById("tryit-sling-iframe"),t=Object(i.b)().getEditIndex(),n=this.fileService.getFileData(t);let r=this.fileService.getFileList();r=r.filter(e=>e.injectScript);let o=this.fileService.getFileList();o=o.filter(e=>e.injectCss);const c=e.contentWindow?e.contentWindow:e.contentDocument.document?e.contentDocument.document:e.contentDocument;if(c.document.open(),c.document.write(n),c.document.head){r.forEach(e=>{if(e.index!==t&&e.data&&e.data.length>0){var n=document.createElement("script");n.text=e.data,n.type="module",c.document.head.appendChild(n),this.injectedList.length>16&&(this.injectedList+=", "),this.injectedList+=e.index+1,e.name.length>0&&(this.injectedList+=" ("+e.name+")")}}),o.forEach(e=>{if(e.index!==t&&e.data&&e.data.length>0){var n=document.createElement("style");n.textContent=e.data,c.document.head.appendChild(n),this.injectedList.length>16&&(this.injectedList+=", "),this.injectedList+=e.index+1,e.name.length>0&&(this.injectedList+=" ("+e.name+")")}});var s=document.createElement("script");s.text=this.getConsoleScriptText(),s.type="module",s.setAttribute("tryit-sling-script","true"),c.document.head.appendChild(s)}c.document.close(),c.document.head&&Object(i.a)()}}getConsoleScriptText(){return"const console=(function(oldCons) { return {log: function(text) { oldCons.log(text); window.parent.document.getElementById('tryit-sling-console').value += text + '\\r\\n'; },info: function (text) { oldCons.info(text); window.parent.document.getElementById('tryit-sling-console').value += text + '\\r\\n'; },warn: function (text) { oldCons.warn(text); window.parent.document.getElementById('tryit-sling-console').value += text + '\\r\\n'; },error: function (text) { oldCons.error(text); window.parent.document.getElementById('tryit-sling-console').value += text + '\\r\\n'; }}; }(window.console)); window.console = console;"}slAfterInit(){const e=Object(i.b)().getDataSubject();e.getHasSubscription(this.onFileChangeFunction)||(e.subscribe(this.onFileChangeFunction),e.next(!0))}addFile(){this.fileService.addFile()}view(){return Object(i.c)("div",{attrs:{style:"padding: 0.25rem; color: rgb(204, 204, 204); max-height: inherit; overflow: auto; display: flex; flex-direction: column; height: calc(100% - 0.5rem);"},children:[Object(i.c)("h4",{attrs:{style:"margin: 0px; flex: 1;"},children:[Object(i.f)("Preview")]}),...this.injectedList.length>16?[Object(i.c)("div",{attrs:{style:"background-color: rgb(46, 49, 56); padding: 0.25rem; flex: 1;"},children:[Object(i.f)(this.injectedList)]})]:[],Object(i.c)("iframe",{attrs:{frameborder:"0",id:"tryit-sling-iframe",slonlyself:"true",...this.injectedList.length>16&&{style:"background-color: #ffffff; width: 100%; flex: 14;"},...this.injectedList.length<=16&&{style:"background-color: #ffffff; width: 100%; flex: 15;"}}}),Object(i.c)("textarea",{attrs:{id:"tryit-sling-console",slonlyself:"true",style:"width: 100%; flex: 4;",placeholder:"Text will appear when logged"}})]})}};var l=class{constructor(){this.fileService=new r,this.onFileChangeFunction=()=>{const e=document.getElementById("tryit-sling-textarea");if(e){const t=Object(i.b)().getEditIndex(),n=this.fileService.getFileData(t);e.value=n}}}slAfterInit(){const e=Object(i.b)().getDataSubject();e.getHasSubscription(this.onFileChangeFunction)||(e.subscribe(this.onFileChangeFunction),e.next(!0))}onInput(e){const t=Object(i.b)().getEditIndex();this.fileService.updateFileData(t,e.target.value)}view(){const e=Object(i.b)().getEditIndex(),t=this.fileService.getFile(e);return Object(i.c)("div",{attrs:{style:"padding: 0.25rem; background-color: rgb(21, 24, 30); color: rgb(204, 204, 204); overflow: auto; height: calc(100% - 0.5rem); display: flex; flex-direction: column;"},children:[Object(i.c)("h4",{attrs:{style:"margin: 0px; flex: 1;"},children:[...t?[Object(i.f)("File "+(t.index+1)+": "+t.name)]:[]]}),Object(i.c)("textarea",{attrs:{style:"width: 100%; background-color: rgb(0, 0, 0); border: none; color: rgb(204, 204, 204); flex: 19;",oninput:this.onInput.bind(this),id:"tryit-sling-textarea"}})]})}};var a=class{constructor(){this.fileService=new r,this.fileTreeComp=new o,this.previewComp=new s,this.sourceComp=new l,this.unitList=["cm","mm","in","px","pt","pc","em","ex","ch","rem","vw","vh","vmin","vmax","%"]}getHeightString(e,t){let n="";if(e&&e.length>0){let i=e;this.unitList.forEach(e=>{i=i.replace(e,"")});const r=Number(i),o=r+t*(r/100),c=e.replace(i,""),s=String(o)+c;n="max-height: "+s+"; height: "+s+";"}else{const e=t+60;n="max-height: "+String(e)+"vh; height: "+String(e)+"vh;"}return n}view(){const e=Object(i.b)(),t=e.getInlineHeight(),n=e.getHeightModifier(),r=this.getHeightString(t,n),o=e.getCollapsedMode(),s=e.getShowPreview(),l=e.getShowHelp();return Object(i.c)("div",{children:[Object(i.c)("div",{attrs:{style:"display: flex; justify-content: space-between;"+r},children:[Object(i.c)("div",{attrs:{style:"width: 12%; min-width: 100px; max-height: inherit;"},children:[this.fileTreeComp]}),...!1===l?[...!1===o?[Object(i.c)("div",{attrs:{style:"width: 44%; max-height: inherit;"},children:[this.sourceComp]}),Object(i.c)("div",{attrs:{style:"width: 44%; max-height: inherit;"},children:[this.previewComp]})]:[],...!0===o?[...!0===s?[Object(i.c)("div",{attrs:{style:"width: 88%; max-height: inherit;"},children:[this.previewComp]})]:[],...!1===s?[Object(i.c)("div",{attrs:{style:"width: 88%; max-height: inherit;"},children:[this.sourceComp]})]:[]]:[]]:[Object(i.c)("div",{attrs:{style:"width: 88%; max-height: inherit;"},children:[new c]})]]})]})}};var d=class{constructor(){}downloadFile(e,t){const n=new Blob([t],{type:"text/html;charset=utf-8;"}),i=document.createElement("a");if(void 0!==i.download){const t=URL.createObjectURL(n);i.setAttribute("href",t),i.setAttribute("download",e),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}};var h=class{constructor(){this.fileService=new r,this.exportService=new d}addFile(){this.fileService.addFile()}expandHeight(){const e=Object(i.b)();let t=e.getHeightModifier();t+=10,e.setHeightModifier(t),Object(i.e)(e)}shrinkHeight(){const e=Object(i.b)();let t=e.getHeightModifier();t-=10,e.setHeightModifier(t),Object(i.e)(e)}togglePreview(){const e=Object(i.b)();e.setShowPreview(!e.getShowPreview()),Object(i.e)(e)}onRun(){Object(i.b)().getDataSubject().next(!0)}onClearConsole(){const e=document.getElementById("tryit-sling-console");e&&(e.value="")}onExport(){const e=document.getElementById("tryit-sling-iframe");if(e){let t="";if(e.contentDocument){const n=e.contentDocument.head.querySelectorAll("script");for(let t=0;t<n.length;++t)n[t].hasAttribute("tryit-sling-script")&&e.contentDocument.head.removeChild(n[t]);t=e.contentDocument.documentElement.outerHTML}else if(e.contentWindow){const n=e.contentWindow.document.head.querySelectorAll("script");for(let t=0;t<n.length;++t)n[t].hasAttribute("tryit-sling-script")&&e.contentWindow.document.head.removeChild(n[t]);t=e.contentWindow.document.documentElement.outerHTML}this.exportService.downloadFile("export.html",t)}}onImport(e){if(e&&e.target&&e.target.files){const t=e.target.files[0];if(t){const e=new FileReader;e.readAsText(t,"UTF-8"),e.onload=e=>{const t=Object(i.b)(),n=t.getEditIndex();this.fileService.updateFileData(n,e.target.result),t.getDataSubject().next(!0)}}}}onImportWorkspace(e){if(e&&e.target&&e.target.files){const t=e.target.files[0];if(t){const e=new FileReader;e.readAsText(t,"UTF-8"),e.onload=e=>{const t=document.createElement("iframe");t.style.visibility="hidden",document.body.appendChild(t);const n=t.contentWindow?t.contentWindow:t.contentDocument.document?t.contentDocument.document:t.contentDocument;if(n.document.open(),n.document.write(e.target.result),n.document.close(),t.contentDocument){const e=t.contentDocument.head.querySelectorAll("script");for(let t=0;t<e.length;++t)this.fileService.addFile(e[t].textContent,!0,!1);for(let n=0;n<e.length;++n)t.contentDocument.head.removeChild(e[n]);const n=t.contentDocument.head.querySelectorAll("style");for(let e=0;e<n.length;++e)this.fileService.addFile(n[e].textContent,!1,!0);for(let i=0;i<e.length;++i)t.contentDocument.head.removeChild(n[i]);const i=t.contentDocument.documentElement.outerHTML;this.fileService.addFile(i)}else if(t.contentWindow){const e=t.contentWindow.document.head.querySelectorAll("script");for(let t=0;t<e.length;++t)this.fileService.addFile(e[t].textContent,!0,!1);for(let n=0;n<e.length;++n)t.contentWindow.document.head.removeChild(e[n]);const n=t.contentDocument.head.querySelectorAll("style");for(let e=0;e<n.length;++e)this.fileService.addFile(n[e].textContent,!1,!0);for(let i=0;i<e.length;++i)t.contentWindow.document.head.removeChild(n[i]);const i=t.contentWindow.document.documentElement.outerHTML;this.fileService.addFile(i)}document.body.removeChild(t),Object(i.a)()}}}}onHelpToggle(){const e=Object(i.b)();e.setShowHelp(!e.getShowHelp()),Object(i.e)(e)}view(){const e=Object(i.b)(),t=e.getHeightModifier(),n=e.getCollapsedMode(),r=e.getVersion();return Object(i.c)("div",{attrs:{style:"padding: 0.5rem; background-color: rgb(46, 49, 56); display: flex; flex-direction: row; flex-wrap: wrap;"},children:[Object(i.c)("div",{attrs:{style:"margin-right: 0.5rem; display: inline-block; color: rgb(204, 204, 204); align-self: center;"},children:[Object(i.c)("h4",{attrs:{style:"margin: 0px; display: inline-block; margin-right: 0.25rem;"},children:[Object(i.f)("Code Editor")]}),Object(i.c)("span",{children:[Object(i.f)(r)]})]}),Object(i.c)("button",{attrs:{onclick:this.addFile.bind(this),style:"background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(i.f)("Add File")]}),Object(i.c)("button",{attrs:{onclick:this.expandHeight.bind(this),style:"background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(i.f)("Expand")]}),...t>0?[Object(i.c)("button",{attrs:{onclick:this.shrinkHeight.bind(this),style:"background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(i.f)("Shrink")]})]:[],Object(i.c)("button",{attrs:{onclick:this.onRun.bind(this),style:"background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(i.f)("Run")]}),...!0===n?[Object(i.c)("button",{attrs:{onclick:this.togglePreview.bind(this),style:"background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(i.f)("Toggle Preview")]})]:[],Object(i.c)("button",{attrs:{onclick:this.onExport.bind(this),style:"background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(i.f)("Export")]}),Object(i.c)("label",{attrs:{id:"try-sling-import-label",for:"tryit-sling-import",style:"background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(i.f)("Import File")]}),Object(i.c)("label",{attrs:{id:"try-sling-import-workspace-label",for:"tryit-sling-import-workspace",style:"background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(i.f)("Import Workspace")]}),Object(i.c)("input",{attrs:{onchange:this.onImport.bind(this),id:"tryit-sling-import",type:"file",style:"display: none;"}}),Object(i.c)("input",{attrs:{onchange:this.onImportWorkspace.bind(this),id:"tryit-sling-import-workspace",type:"file",style:"display: none;"}}),Object(i.c)("button",{attrs:{onclick:this.onHelpToggle.bind(this),style:"background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(i.f)("Toggle Help")]}),Object(i.c)("button",{attrs:{id:"tryit-sling-clear-console",onclick:this.onClearConsole.bind(this),style:"background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(i.f)("Clear Console")]})]})}};var u=class{constructor(){this.contentPanelComp=new a}slOnInit(){const e=document.getElementById("tryit-root").style.height,t=Object(i.b)();t.setInlineHeight(e),Object(i.e)(t)}view(){return Object(i.c)("div",{attrs:{id:"tryit-root",style:"background-color: rgb(21, 24, 30); width: 100%;"},children:[new h,this.contentPanelComp]})}};var g=class{constructor(){this.COLLAPSED_MODE_WIDTH=768}onWindowResize(){const e=Object(i.b)();window.outerWidth<=this.COLLAPSED_MODE_WIDTH?e.setCollapsedMode(!0):e.setCollapsedMode(!1),Object(i.e)(e),Object(i.a)()}addResizeListener(){window.addEventListener("resize",this.onWindowResize.bind(this)),this.onWindowResize()}};const f=e=>{const t={},n=[];let i=e;return t.subscribe=function(e){return n.push(e),this},t.clearSubscription=function(e){const t=n.filter(t=>t!==e);return this.clearSubscriptions(),n.concat(t),this},t.getHasSubscription=function(e){const t=n.find(t=>t===e);return null!=t&&void 0!==t},t.clearSubscriptions=function(){return n.splice(0,n.length),this},t.next=function(e){return i=e,n.forEach(e=>{e(i)}),this},t.getData=function(){return i},t};const p=new class{constructor(){this.editIndex=0,this.dataUpdated=f(!1),this.heightModifier=0,this.inlineHeight="",this.collapsedMode=!1,this.showPreview=!1,this.version="1.3",this.showHelp=!1}getShowHelp(){return this.showHelp}setShowHelp(e){this.showHelp=e}getVersion(){return this.version}getShowPreview(){return this.showPreview}setShowPreview(e){this.showPreview=e}getCollapsedMode(){return this.collapsedMode}setCollapsedMode(e){this.collapsedMode=e}getInlineHeight(){return this.inlineHeight}setInlineHeight(e){this.inlineHeight=e}getDataSubject(){return this.dataUpdated}getEditIndex(){return this.editIndex}setEditIndex(e){this.editIndex=e}getHeightModifier(){return this.heightModifier}setHeightModifier(e){this.heightModifier=e}};Object(i.e)(p),(new g).addResizeListener(),Object(i.d)("tryit-root",new u)}]);