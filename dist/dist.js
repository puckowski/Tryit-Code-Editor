!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=4)}([function(e,t,i){"use strict";(function(e){i.d(t,"e",(function(){return g})),i.d(t,"b",(function(){return p})),i.d(t,"f",(function(){return b})),i.d(t,"c",(function(){return f})),i.d(t,"d",(function(){return m})),i.d(t,"a",(function(){return I}));const n="undefined"!=typeof window;var o=n?window:e;n||(o.setTimeout=()=>{},o.setInterval=()=>{},o.location={},o.location.href="",o.fetch=()=>{},o.XMLHttpRequest={},o.XMLHttpRequest.prototype={},o.XMLHttpRequest.prototype.send=()=>{}),o.s=function(){};const r=o.setTimeout,c=o.setInterval;Object.defineProperty(s,"DETACHED_SET_TIMEOUT",{value:r.bind(o)}),Object.defineProperty(s,"DETACHED_SET_INTERVAL",{value:c.bind(o)}),s._state={},s._destroyFuncMap=new Map,s._updateMap=new Map,s._afterInitArr=[];const l=({tagName:e,attrs:t,children:i})=>{let n,o=document.createElement(e);for(let[e,i]of Object.entries(t))"function"==(n=typeof i)?(o[e]=i,s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&O(e,o)):o.setAttribute(e,i);for(let e of i)if("string"==typeof e)o.append(e);else{if(e.view){if(e.slOnInit&&e.slOnInit(),e.slOnDestroy){let t=s._destroyFuncMap.get(s._router.mountRoute);t||(t=[]),t.push(e.slOnDestroy.bind(e)),s._destroyFuncMap.set(s._router.mountRoute,t)}e.slAfterInit&&s._afterInitArr.push(e.slAfterInit.bind(e)),e=e.view.bind(e)()}o.appendChild(l(e))}return o},a=(e,t,i)=>{let n;for(let n of t){let t=i[n.name];t?t.length===n.nodeValue.length&&t===n.nodeValue&&delete i[n.name]:e.removeAttribute(n.nodeName)}for(let[t,o]of Object.entries(i))"function"==(n=typeof o)?(e[t]=o,s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&O(t,e)):e.setAttribute(t,o)},d=(e,t,i)=>{const n=t.length;let o=0;for(let e=t.length-1;e>=0;--e)h(t[e],i[e]),o++;for(;t.length>n;)t[t.length-1].remove();for(let t of i.slice(n)){if("string"==typeof t)e.childNodes[o]?e.childNodes[o].textContent!==t&&(e.childNodes[o].textContent=t):e.append(t);else if("string"==typeof t)e.append(t);else{if(t.view){if(t.slOnInit&&t.slOnInit(),t.slOnDestroy){let e=s._destroyFuncMap.get(s._router.mountRoute);e||(e=[]),e.push(t.slOnDestroy.bind(t)),s._destroyFuncMap.set(s._router.mountRoute,e)}t.slAfterInit&&s._afterInitArr.push(t.slAfterInit.bind(t)),t=t.view.bind(t)()}e.appendChild(l(t))}o++}for(;t.length>i.length;)t[t.length-1].remove()},h=(e,t)=>{if(t&&t.view){if(t.slOnInit&&t.slOnInit(),t.slOnDestroy){let e=s._destroyFuncMap.get(s._router.mountRoute);e||(e=[]),e.push(t.slOnDestroy.bind(t)),s._destroyFuncMap.set(s._router.mountRoute,e)}t.slAfterInit&&s._afterInitArr.push(t.slAfterInit.bind(t)),t=t.view.bind(t)()}if(t){if(e&&e.tagName!==t.tagName){if(!t.tagName)return e.replaceWith(t),void(e=t);{let i=document.createElement(t.tagName);e.parentNode.insertBefore(i,e),e=i}}if("string"!=typeof t){switch(t.attrs.sldirective){case"useexsting":return;case"onlychildren":return void d(e,e.childNodes,t.children);case"onlyself":return void a(e,e.attributes,t.attrs);case"trustchildren":{a(e,e.attributes,t.attrs);let i="";return t.children.forEach(e=>{i+=e}),void(e.innerHTML!==i&&(e.innerHTML=i))}}a(e,e.attributes,t.attrs),d(e,e.childNodes,t.children)}else e.textContent!==t&&(e.textContent=t)}else e&&e.remove()},u=(e,t,i)=>{s._afterInitArr=[],t.slOnInit&&t.slOnInit();let n=t.view.bind(t)();if(n.view&&(n=n.view.bind(t)()),!n.attrs||e&&e.id!==n.attrs.id){const t=n.attrs?n.attrs.id:"null";console.error("Mounted component root element changed from "+e.id+" to "+t)}return h(e,n),i&&s._updateMap.set(e.id,t),t.slAfterInit&&(t.slAfterInit(),w()),s._afterInitArr.forEach(e=>{e()}),e};function g(e){s._state=e}function p(){return s._state}function b(e){return String(e)}function f(e,{attrs:t={},children:i=[]}={}){return{tagName:e=e.toUpperCase(),attrs:t,children:i}}function m(e,t,i=!0){s._router.mountRoute=e;let n=document.getElementById(e);if(null!==n)return u(n,t,i);console.error("ID "+e+" does not exist in DOM.")}function v(e,t){const i=e;if(e=document.getElementById(e)){let i=t.view.bind(t)();h(e,i)}else console.error("ID "+i+" not mounted in DOM; attachDetector likely needs to be called.");s._afterInitArr.forEach(e=>{e()})}let y=o.onpopstate;o.onpopstate=function(e){o.location.hash&&s._router.lastHash!==o.location.hash.substring(1)&&(y&&y(e),function e(t,i={},n=!0){if(s._router.params=i,s._router.currentRoute&&s._router.currentRoute.onCanDeactivate&&!s._router.currentRoute.onCanDeactivate(t))return;let r=null;for(let[i,c]of s._router.routeList)if(i.test(t)){if(c.onActivationCheck&&!c.onActivationCheck(t))return c.onActivationFail&&(r=e(c.onActivationFail.route,c.onActivationFail.params,"boolean"!=typeof c.onActivationFail.attachDetector||c.onActivationFail.attachDetector)),void(t=void 0);c.onBeforeRoute&&c.onBeforeRoute();const i=s._destroyFuncMap.get(j());i&&(i.forEach(e=>{e()}),s._destroyFuncMap.set(j(),[])),s._router.lastHash=t,o.location.hash=t,x(),s._router.currentRoute=c;let l=document.getElementById(c.root);c.component&&(c.component.slOnDestroy&&s._destroyFuncMap.set(t,[c.component.slOnDestroy.bind(c.component)]),s._router.mountRoute=t,u(l,c.component,n),r=c.component);break}return s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&w(),r}(j()))},s._router={segmentArr:[],routeList:[],params:null,lastHash:!1,currentRoute:null,mountRoute:""},Object.seal(s._router);const x=()=>{let e=o.location.href.split("#")[1];if(e){let t=e.split("/");t.forEach((e,t)=>{s._router.segmentArr[t]=e}),s._router.segmentArr.splice(t.length,s._router.segmentArr.length)}else s._router.segmentArr.splice(0,s._router.segmentArr.length)};function j(){return o.location.href.split("#")[1]}x(),s.CHANGE_STRATEGY_AUTOMATIC=100,s.CHANGE_STRATEGY_MANUAL=200,s.CHANGE_DETECTOR_DETACHED=!1,s.CHANGE_DETECTOR_ATTACHED=!0,s._changeStrategies=[s.CHANGE_STRATEGY_AUTOMATIC,s.CHANGE_STRATEGY_MANUAL],s._changeDetector={lastUpdateDate:new Date,changeDetectionStrategy:s.CHANGE_STRATEGY_AUTOMATIC},Object.seal(s._changeDetector),Object.freeze(s._changeStrategies);const O=(e,t)=>{if(t[e]){let i=t[e];t[e]=function(){let e=i.apply(this,[].slice.call(arguments));return w(),e}}},S=(e=null)=>{e?v(e,s._updateMap.get(e)):s._updateMap.forEach((e,t)=>{v(t,e)})},w=()=>{s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&(new Date-s._changeDetector.lastUpdateDate>17?S():s._debouncedPerformUpdates(),s._changeDetector.lastUpdateDate=new Date)};function I(e=null){S(e)}s._debouncedPerformUpdates=function(e,t){let i;return function(...t){const n=this;clearTimeout(i),i=s.DETACHED_SET_TIMEOUT(()=>e.apply(n,t),17)}}(S);let C=o.XMLHttpRequest.prototype.send;function E(){if(this._onreadystatechange){let e=this._onreadystatechange.apply(this,arguments);return w(),e}}o.XMLHttpRequest.prototype.send=function(e){return this.onreadystatechange&&(this._onreadystatechange=this.onreadystatechange),this.onreadystatechange=E,C.apply(this,arguments)};let T=o.fetch;o.fetch=function(){let e=T.apply(this,arguments);return w(),e},O("setTimeout",o),O("setInterval",o)}).call(this,i(2))},function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return s}));var n=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],o="undefined"!=typeof window,r=o&&null!=window.mozInnerScreenX;function s(e,t,i){if(!o)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var s=i&&i.debug||!1;if(s){var c=document.querySelector("#input-textarea-caret-position-mirror-div");c&&c.parentNode.removeChild(c)}var l=document.createElement("div");l.id="input-textarea-caret-position-mirror-div",document.body.appendChild(l);var a=l.style,d=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,h="INPUT"===e.nodeName;a.whiteSpace="pre-wrap",h||(a.wordWrap="break-word"),a.position="absolute",s||(a.visibility="hidden"),n.forEach((function(e){if(h&&"lineHeight"===e)if("border-box"===d.boxSizing){var t=parseInt(d.height),i=parseInt(d.paddingTop)+parseInt(d.paddingBottom)+parseInt(d.borderTopWidth)+parseInt(d.borderBottomWidth),n=i+parseInt(d.lineHeight);a.lineHeight=t>n?t-i+"px":t===n?d.lineHeight:0}else a.lineHeight=d.height;else a[e]=d[e]})),r?e.scrollHeight>parseInt(d.height)&&(a.overflowY="scroll"):a.overflow="hidden",l.textContent=e.value.substring(0,t),h&&(l.textContent=l.textContent.replace(/\s/g,"Â "));var u=document.createElement("span");u.textContent=e.value.substring(t)||".",l.appendChild(u);var g={top:u.offsetTop+parseInt(d.borderTopWidth),left:u.offsetLeft+parseInt(d.borderLeftWidth),height:parseInt(d.lineHeight)};return s?u.style.backgroundColor="#aaa":document.body.removeChild(l),g}void 0!==e.exports?e.exports=s:o&&(window.getCaretCoordinates=s)}).call(this,i(3)(e))},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,i){"use strict";i.r(t);var n=i(0);var o=class{constructor(){this.SLING_DEMO_HTML='<html><body><div id="divRouterOutlet"></div></body></html>',this.SLING_DEMO_CSS=".visible {\n    animation: fadein 800ms ease-in-out;\n}\n\n.hide {\n    animation: fadeout 800ms ease-in-out;\n}\n\n@keyframes fadein {\n    from {\n        opacity: 0;\n        transform: translateY(-5%);\n    }\n\n    to {\n        opacity: 1;\n        transform: translateY(0%);\n    }\n}\n\n@keyframes fadeout {\n    from {\n        opacity: 1;\n        transform: translateY(0%);\n    }\n\n    to {\n        opacity: 0;\n        transform: translateY(100%);\n    }\n}",this.SLING_DEMO_JAVASCRIPT="import { mount, textNode, markup } from 'https://cdn.skypack.dev/slingjs';\n\nclass HelloWorldComponent {\n    constructor() {\n        this.welcomeHidden = false;\n    }\n\n    hideWelcome() {\n        this.welcomeHidden = true;\n    }\n\n    showWelcome() {\n        this.welcomeHidden = false;\n    }\n\n    view() {\n        return markup('div', {\n            attrs: {\n                id: 'divRouterOutlet',\n                ...this.welcomeHidden !== true && { class: 'visible' },\n                style: 'display: flex; justify-content: center; align-items: center; height: 100%;'\n            },\n            children: [\n                ...(this.welcomeHidden === false ? [\n                    markup('h1', {\n                        attrs: {\n                            slanimatedestroy: 'hide',\n                        },\n                        children: [\n                            textNode('Hello, world!'),\n                            markup('button', {\n                                attrs: {\n                                    onclick: this.hideWelcome.bind(this)\n                                },\n                                children: [\n                                    textNode('Hide')\n                                ]\n                            })\n                        ]\n                    })\n                ] : [\n                  markup('button', {\n                                attrs: {\n                                    onclick: this.showWelcome.bind(this)\n                                },\n                                children: [\n                                    textNode('Show')\n                                ]\n                            })\n                ])\n            ]\n\n        });\n    }\n}\n\nmount('divRouterOutlet', new HelloWorldComponent());",this.fileListObject="filelist",this.initializeFileList()}buildSlingDemo(){const e=this.getFileList().length;return this.addFile(this.SLING_DEMO_HTML,!1,!1),this.setFileName(e,"Sling Demo HTML"),this.addFile(this.SLING_DEMO_CSS,!1,!0),this.setFileName(e+1,"Sling Demo CSS"),this.addFile(this.SLING_DEMO_JAVASCRIPT,!0,!1),this.setFileName(e+2,"Sling Demo JavaScript"),e}getFile(e){return this.getFileList().find(t=>t.index===e)}getFileData(e){const t=this.getFileList().find(t=>t.index===e);return t?t.data:""}getFileList(){const e=localStorage.getItem(this.fileListObject);return JSON.parse(e)}addFile(e=null,t=!1,i=!1){const n=this.getFileList();let o=0;const r=new Set(n.map(e=>e.index));for(;r.has(o);)o++;const s=this.getFileObject(o);null!=e&&(s.data=e,s.injectScript=t,s.injectCss=i),n.push(s),this.setFileList(n)}removeFile(e){let t=this.getFileList();t=t.filter(t=>t.index!==e),this.setFileList(t)}updateFileData(e,t){const i=this.getFileList(),o=i.find(t=>t.index===e);o&&(o.data=t),this.setFileList(i),Object(n.b)().getSourceHasNewInputSubject().next(!0)}updateFileInject(e,t=null){const i=this.getFileList(),n=i.find(t=>t.index===e);n&&(n.injectScript?n.injectScript=null==t?!n.injectScript:t:n.injectScript=null==t||t),this.setFileList(i)}updateFileInjectCss(e,t=null){const i=this.getFileList(),n=i.find(t=>t.index===e);n&&(n.injectCss?n.injectCss=null==t?!n.injectCss:t:n.injectCss=null==t||t),this.setFileList(i)}setFileName(e,t){const i=this.getFileList(),n=i.find(t=>t.index===e);n&&(n.name=t),this.setFileList(i)}setFileList(e){localStorage.setItem(this.fileListObject,JSON.stringify(e))}getFileObject(e){return{name:"",index:e,data:"",injectScript:!1,injectCss:!1}}initializeFileList(){const e=localStorage.getItem(this.fileListObject);if(null==e||null==e)localStorage.setItem(this.fileListObject,JSON.stringify([]));else{const t=JSON.parse(e);Array.isArray(t)||localStorage.setItem(this.fileListObject,JSON.stringify([]))}}};var r=class{constructor(){this.fileService=new o,this.editNameIndex=-1,this.editedFileName=""}onEditName(e){this.editNameIndex=e;const t=this.fileService.getFile(e);this.editedFileName=t.name?t.name:""}onFinishEditName(e){this.fileService.setFileName(e,this.editedFileName),this.editedFileName="",this.editNameIndex=-1}onFileNameInput(e){this.editedFileName=e.target.value}onFileSelection(e){const t=Object(n.b)();t.setEditIndex(e),this.editNameIndex>=0&&t.setPreserveFocus(!0),t.getDataSubject().next(!0),Object(n.e)(t)}onRemoveFile(e){this.fileService.removeFile(e),Object(n.b)().getDataSubject().next(!0)}onToggleInject(e){this.fileService.updateFileInject(e),this.fileService.updateFileInjectCss(e,!1),Object(n.b)().getDataSubject().next(!0)}onToggleInjectCss(e){this.fileService.updateFileInjectCss(e),this.fileService.updateFileInject(e,!1),Object(n.b)().getDataSubject().next(!0)}view(){const e=this.fileService.getFileList(),t=Object(n.b)().getEditIndex();return Object(n.c)("div",{attrs:{style:"background-color: rgb(32, 35, 39); color: rgb(204, 204, 204); overflow: auto; max-height: inherit;"},children:[...Array.from(e,(e,i)=>Object(n.c)("div",{attrs:{...t!==e.index&&i%2==0&&{style:"padding: 0.5rem;"},...t!==e.index&&i%2!=0&&{style:"padding: 0.5rem; background-color: rgb(21, 24, 30);"},...t===e.index&&{style:"padding: 0.5rem; background-color: rgb(60, 68, 83);"},onclick:this.onFileSelection.bind(this,e.index)},children:[Object(n.c)("button",{attrs:{style:"margin: 0 0.5rem 0.5rem 0; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204);",...e.index!==this.editNameIndex&&{onclick:this.onEditName.bind(this,e.index)},...e.index===this.editNameIndex&&{onclick:this.onFinishEditName.bind(this,e.index)}},children:[...e.index===this.editNameIndex?[Object(n.f)("Save Name")]:[Object(n.f)("Edit Name")]]}),Object(n.c)("button",{attrs:{style:"margin-right: 0 0.5rem 0.5rem 0; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204);",onclick:this.onRemoveFile.bind(this,e.index)},children:[Object(n.f)("Remove File")]}),Object(n.c)("div",{children:[...t===e.index?[Object(n.c)("strong",{children:[Object(n.f)("File "+(e.index+1)+": "+e.name)]})]:[Object(n.f)("File "+(e.index+1)+": "+e.name)]]}),...e.index===this.editNameIndex?[Object(n.c)("input",{attrs:{style:"width: 100%; padding: 1px 2px;",oninput:this.onFileNameInput.bind(this),value:this.editedFileName}})]:[],Object(n.c)("div",{children:[Object(n.c)("span",{attrs:{style:"margin-right: 0.25rem;"},children:[Object(n.f)("Inject Script")]}),Object(n.c)("input",{attrs:{type:"checkbox",...e.injectScript&&{checked:"true"},onchange:this.onToggleInject.bind(this,e.index)}})]}),Object(n.c)("div",{children:[Object(n.c)("span",{attrs:{style:"margin-right: 0.25rem;"},children:[Object(n.f)("Inject CSS")]}),Object(n.c)("input",{attrs:{type:"checkbox",...e.injectCss&&{checked:"true"},onchange:this.onToggleInjectCss.bind(this,e.index)}})]})]}))]})}};var c=class{constructor(){}view(){return Object(n.c)("div",{attrs:{style:"padding: 0.25rem; background-color: rgb(21, 24, 30); color: rgb(204, 204, 204); overflow: auto; height: calc(100% - 0.5rem); display: flex; flex-direction: column;"},children:[Object(n.c)("div",{attrs:{style:"flex: 20;"},children:[Object(n.c)("h4",{attrs:{style:"margin: 0px;"},children:[Object(n.f)("Code Editor Help")]}),Object(n.c)("p",{children:[Object(n.f)("Click Add File to add a new file. Toggle Inject Script to inject the file as a <script> tag in the <head> of the preview. Toggle Inject CSS to inject the file as a <style> tag in the <head> of the preview.")]}),Object(n.c)("p",{children:[Object(n.f)("Click Expand and Shrink to change the size of the Code Editor.")]}),Object(n.c)("p",{children:[Object(n.f)("Click Run to update the preview.")]}),Object(n.c)("p",{children:[Object(n.f)("Click Export to export the preview page HTML.")]}),Object(n.c)("p",{children:[Object(n.f)("Click Import File to import a file's contents into the source panel.")]}),Object(n.c)("p",{children:[Object(n.f)("Click Import Workspace to import a previously exported HTML file. This may create multiple files.")]}),Object(n.c)("p",{children:[Object(n.f)("Click Toggle Preview on small screens to toggle the preview.")]}),Object(n.c)("p",{children:[Object(n.f)("Click Clear Console to clear the preview console.")]}),Object(n.c)("p",{children:[Object(n.f)("Click Sling.js Demo to build a 'Hello, world!' Sling.js project.")]}),Object(n.c)("p",{children:[Object(n.f)("Press Tab or click on the suggested word popup to insert the suggested word.")]})]})]})}};var l=class{constructor(){this.fileService=new o,this.injectedList="",this.isPreviewLoading=!1,this.onInvalidScriptFunction=()=>{Object(n.a)()},this.onFileChangeFunction=()=>{this.injectedList="Injected files: ";const e=document.getElementById("tryit-sling-iframe"),t=Object(n.b)(),i=t.getEditIndex(),o=this.fileService.getFileData(i);let r=this.fileService.getFileList();r=r.filter(e=>e.injectScript);let c=this.fileService.getFileList();c=c.filter(e=>e.injectCss);const l=e.contentWindow?e.contentWindow:e.contentDocument.document?e.contentDocument.document:e.contentDocument;if(l.document.open(),l.document.write(o),l.document.head){const e=document.createElement("script");e.text=this.getConsoleScriptText(),e.type="module",e.setAttribute("tryit-sling-script","true"),l.document.head.appendChild(e),r.forEach(e=>{if(e.index!==i&&e.data&&e.data.length>0){var o=document.createElement("script");o.text=e.data,o.type="module";let i=localStorage.getItem("tryitCount");i?i=Number(i):(i=0,localStorage.setItem("tryitCount",i));let r=0;this.isPreviewLoading=!0;const c=s.DETACHED_SET_INTERVAL(()=>{const o=Number(localStorage.getItem("tryitCount"));if(i===o){const i=t.getInvalidScriptIndexSubject(),n=i.getData();n.includes(e.index)||n.push(e.index),i.next(n)}else{const i=t.getInvalidScriptIndexSubject(),n=i.getData(),o=n.indexOf(e.index);o>-1&&n.splice(o,1),i.next(n)}17===++r&&(clearInterval(c),this.isPreviewLoading=!1,Object(n.a)())},300);l.document.head.appendChild(o),this.injectedList.length>16&&(this.injectedList+=", "),this.injectedList+=e.index+1,e.name.length>0&&(this.injectedList+=" ("+e.name+")");const a=t.getInvalidScriptIndexSubject(),d=a.getData(),h=d.indexOf(e.index);h>-1&&d.splice(h,1),a.next(d)}}),c.forEach(e=>{if(e.index!==i&&e.data&&e.data.length>0){var t=document.createElement("style");t.textContent=e.data,l.document.head.appendChild(t),this.injectedList.length>16&&(this.injectedList+=", "),this.injectedList+=e.index+1,e.name.length>0&&(this.injectedList+=" ("+e.name+")")}})}l.document.close(),l.document.head&&Object(n.a)()}}slAfterInit(){const e=Object(n.b)(),t=e.getDataSubject();t.getHasSubscription(this.onFileChangeFunction)||(t.subscribe(this.onFileChangeFunction),t.next(!0));const i=e.getInvalidScriptIndexSubject();i.getHasSubscription(this.onInvalidScriptFunction)||i.subscribe(this.onInvalidScriptFunction)}getConsoleScriptText(){return"const console=(function(oldCons) { return {log: function(text) { oldCons.log(text); window.parent.document.getElementById('tryit-sling-console').value += text + '\\r\\n'; },info: function (text) { oldCons.info(text); window.parent.document.getElementById('tryit-sling-console').value += text + '\\r\\n'; },warn: function (text) { oldCons.warn(text); window.parent.document.getElementById('tryit-sling-console').value += text + '\\r\\n'; },error: function (text) { oldCons.error(text); window.parent.document.getElementById('tryit-sling-console').value += text + '\\r\\n'; }}; }(window.console)); window.console = console;"}addFile(){this.fileService.addFile()}getInvalidScriptMessage(){const e=Object(n.b)().getInvalidScriptIndexSubject().getData();if(e&&e.length>0){let t="Invalid Files: ";return e.forEach((e,i)=>{i>0&&(t+=", "),t+="File "+(e+1)}),t+" "}return""}view(){const e=this.getInvalidScriptMessage();return Object(n.c)("div",{attrs:{style:"padding: 0.25rem; color: rgb(204, 204, 204); max-height: inherit; overflow: auto; display: flex; flex-direction: column; height: calc(100% - 0.5rem);"},children:[Object(n.c)("h4",{attrs:{style:"margin: 0px; flex: 1;"},children:[...0!==e.length||this.isPreviewLoading?[]:Object(n.f)("Preview"),...0===e.length||this.isPreviewLoading?[]:Object(n.f)(e),...0===e.length||this.isPreviewLoading?[]:[Object(n.c)("span",{attrs:{style:"font-family: sans-serif; color: red"},children:[Object(n.f)("X")]})],...this.isPreviewLoading?Object(n.f)("Loading..."):[]]}),...this.injectedList.length>16?[Object(n.c)("div",{attrs:{style:"background-color: rgb(46, 49, 56); padding: 0.25rem; flex: 1;"},children:[Object(n.f)(this.injectedList)]})]:[],Object(n.c)("iframe",{attrs:{frameborder:"0",id:"tryit-sling-iframe",sldirective:"onlyself",...this.injectedList.length>16&&{style:"background-color: #ffffff; width: 100%; flex: 14;"},...this.injectedList.length<=16&&{style:"background-color: #ffffff; width: 100%; flex: 15;"}}}),Object(n.c)("textarea",{attrs:{id:"tryit-sling-console",sldirective:"onlyself",style:"width: 100%; flex: 4;",placeholder:"Text will appear when logged"}})]})}},a=i(1);var d=class{constructor(){this.JAVASCRIPT_RESERVED_WORD_LIST=["abstract","arguments","await","boolean","break","byte","case","catch","char","class","const","continue","debugger","default","delete","do","double","else","enum","eval","export","extends","false","final","finally","float","for","function","goto","if","implements","import","in","instanceof","int","interface","let","long","native","new","null","package","private","protected","public","return","short","static","super","switch","synchronized","this","throw","throws","transient","true","try","typeof","var","void","volatile","while","with","yield"],this.HTML_TAG_NAMES=["!DOCTYPE","a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],this.fileService=new o,this.selectionText=null,this.occurrence=-1,this.x=-1,this.y=-1,this.suggestion="",this.input="",this.newInput=!1,this.scrollY=0,this.onSourceHasNewInput=()=>{this.newInput=!0},this.processSourceHasNewInput=this.debounce(()=>this.onSourceHasNewInput()),this.CHECK_DIRTY_INTERVAL=300,this.onDataChanged=()=>{this.suggestion="",this.input=""}}slOnInit(){const e=Object(n.b)(),t=e.getSourceHasNewInputSubject();t.getHasSubscription(this.processSourceHasNewInput)||t.subscribe(this.processSourceHasNewInput);const i=e.getDataSubject();i.getHasSubscription(this.onDataChanged)||i.subscribe(this.onDataChanged);const o=document.getElementById("tryit-sling-textarea");o&&o.addEventListener("scroll",function(e,t){this.scrollY=e.scrollTop}.bind(this,o),!1),s.DETACHED_SET_INTERVAL(()=>{if(this.newInput){const e=document.getElementById("tryit-sling-textarea");if(e&&e.selectionEnd>=16){this.selectionText=e.value.slice(e.selectionEnd-16,e.selectionEnd),this.occurrence=this.countOccurrences(e.value,this.selectionText);const t=Object(n.b)().getEditIndex(),i=this.fileService.getFileData(t),o=this.getIndicesOf(this.selectionText,i,!0)[this.occurrence-1];let r=i.substring(o);(r=r.substring(0,this.selectionText.length))&&r.includes("<")?(this.input=r.substring(r.lastIndexOf("<")+1),this.input=this.input.trim(),this.input.includes(" ")&&(this.input=r.substring(r.lastIndexOf(" ")+1),this.input=this.input.trim()),this.determineSuggestionIfPossible(i,o,e)):r&&r.includes(" ")?(this.input=r.substring(r.lastIndexOf(" ")+1),this.input=this.input.trim(),this.determineSuggestionIfPossible(i,o,e)):(this.suggestion=null,Object(n.a)())}this.newInput=!1}},this.CHECK_DIRTY_INTERVAL),document.addEventListener("keydown",this.onDocumentKeyDown.bind(this))}determineSuggestionIfPossible(e,t,i){if(this.input.startsWith("{")&&(this.input=this.input.substring(this.input.indexOf("{")+1),this.input=this.input.trim()),this.input&&this.input.length>0){const o=this.buildWordFrequencyMap(e);let r=0;for(const e of Object.keys(o))e.startsWith(this.input)&&o[e]>r&&(r=o[e],this.suggestion=e);if(this.suggestion&&this.suggestion.length>0){const o=this.suggestion.replace(this.input,""),r=e.substring(t+16,t+16+o.length);if(this.suggestion===this.input||r===o)this.suggestion=null,Object(n.a)();else{const e=Object(a.a)(i,i.selectionEnd),t=i.getBoundingClientRect(),o=this.getLineHeight(i);this.x=e.left+t.left,this.y=e.top+t.top-o-this.scrollY,Object(n.a)()}}}}debounce(e,t=300){let i;return(...n)=>{clearTimeout(i),i=setTimeout(()=>{e.apply(this,n)},t)}}getLineHeight(e){const t=document.createElement(e.nodeName);let i;return t.setAttribute("style","margin:0; padding:0; font-family:"+(e.style.fontFamily||"inherit")+"; font-size:"+(e.style.fontSize||"inherit")),t.innerHTML="A",e.parentNode.appendChild(t),i=t.clientHeight,t.parentNode.removeChild(t),i}buildWordFrequencyMap(e){let t=[],i="";for(let n=0;n<e.length;++n)if(" "!==e[n]&&"("!==e[n]&&"{"!==e[n]&&";"!==e[n])i+=e[n];else if(i.length>0){const e=i.trim();e.length>0&&t.push(e),i=""}t=(t=t.concat(this.JAVASCRIPT_RESERVED_WORD_LIST)).concat(this.HTML_TAG_NAMES);const n={};return t.forEach((function(e){if("constructor"===e){let t=""+n[e];if(t)if("string"==typeof t&&t.includes("}")){t=t.substring(t.lastIndexOf("}")+1).trim();const i=Number(t)+1;n[e]=i}else n[e]+=1;else n[e]=1}else n[e]||(n[e]=0),n[e]+=1})),n}countOccurrences(e,t,i=!1){if(e+="",(t+="").length<=0)return e.length+1;for(var n=0,o=0,r=i?1:t.length;(o=e.indexOf(t,o))>=0;)++n,o+=r;return n}getIndicesOf(e,t,i){const n=e.length;if(0==n)return[];let o,r=0,s=[];for(i||(t=t.toLowerCase(),e=e.toLowerCase());(o=t.indexOf(e,r))>-1;)s.push(o),r=o+n;return s}onDocumentKeyDown(e){e&&9===e.keyCode&&this.suggestion&&this.suggestion.length>0&&this.input&&this.input.length>0&&this.insertSuggestion()}insertSuggestion(){const e=Object(n.b)(),t=e.getEditIndex(),i=this.fileService.getFileData(t),o=this.getIndicesOf(this.selectionText,i,!0)[this.occurrence-1],r=i.substring(0,o+(16-this.input.length));let s=i.substring(o+(16-this.input.length));s=s.replace(this.input,this.suggestion),this.fileService.updateFileData(t,r+s),e.setCaretPositionToRestore(o+this.suggestion.length+(16-this.input.length)),this.suggestion=null,this.input=null,e.getDataSubject().next(!0)}view(){let e="left: "+this.x+"px; top: "+this.y+"px;";return this.suggestion&&0!==this.suggestion.length||(e+=" display: none;"),Object(n.c)("div",{attrs:{style:e+"position: fixed; padding: 0.25rem; background-color: rgb(60, 68, 83); color: rgb(204, 204, 204); z-index: 1000;",onclick:this.insertSuggestion.bind(this)},children:[Object(n.f)(this.suggestion)]})}};var h=class{constructor(){this.fileService=new o,this.onFileChangeFunction=()=>{let e=Object(n.b)();if(e.getPreserveFocus())e.setPreserveFocus(!1),Object(n.e)(e);else{const t=document.getElementById("tryit-sling-textarea");t&&s.DETACHED_SET_TIMEOUT(()=>{const i=(e=Object(n.b)()).getEditIndex(),o=this.fileService.getFileData(i);t.focus(),t.value=o,t.selectionStart=e.getCaretPositionToRestore(),t.selectionEnd=e.getCaretPositionToRestore()},100)}},this.wordSuggestionComp=new d}slAfterInit(){const e=Object(n.b)().getDataSubject();e.getHasSubscription(this.onFileChangeFunction)||(e.subscribe(this.onFileChangeFunction),e.next(!0))}onInput(e){const t=Object(n.b)().getEditIndex();this.fileService.updateFileData(t,e.target.value)}view(){const e=Object(n.b)().getEditIndex(),t=this.fileService.getFile(e),i=this.fileService.getFileList(),o=i?i.length:0;return Object(n.c)("div",{attrs:{style:"padding: 0.25rem; background-color: rgb(21, 24, 30); color: rgb(204, 204, 204); overflow: auto; height: calc(100% - 0.5rem); display: flex; flex-direction: column;"},children:[Object(n.c)("h4",{attrs:{style:"margin: 0px; flex: 1;"},children:[...t?[Object(n.f)("File "+(t.index+1)+": "+t.name)]:[]]}),Object(n.c)("textarea",{attrs:{style:"width: 100%; background-color: rgb(0, 0, 0); border: none; color: rgb(204, 204, 204); flex: 19;",oninput:this.onInput.bind(this),id:"tryit-sling-textarea",...0===o&&{readonly:"true"}}}),this.wordSuggestionComp]})}};var u=class{constructor(){this.fileService=new o,this.fileTreeComp=new r,this.previewComp=new l,this.sourceComp=new h,this.unitList=["cm","mm","in","px","pt","pc","em","ex","ch","rem","vw","vh","vmin","vmax","%"]}getHeightString(e,t){let i="";if(e&&e.length>0){let n=e;this.unitList.forEach(e=>{n=n.replace(e,"")});const o=Number(n),r=o+t*(o/100),s=e.replace(n,""),c=String(r)+s;i="max-height: "+c+"; height: "+c+";"}else{const e=t+60;i="max-height: "+String(e)+"vh; height: "+String(e)+"vh;"}return i}view(){const e=Object(n.b)(),t=e.getInlineHeight(),i=e.getHeightModifier(),o=this.getHeightString(t,i),r=e.getCollapsedMode(),s=e.getShowPreview(),l=e.getShowHelp();return Object(n.c)("div",{children:[Object(n.c)("div",{attrs:{style:"display: flex; justify-content: space-between;"+o},children:[Object(n.c)("div",{attrs:{style:"width: 12%; min-width: 100px; max-height: inherit;"},children:[this.fileTreeComp]}),...!1===l?[...!1===r?[Object(n.c)("div",{attrs:{style:"width: 44%; max-height: inherit;"},children:[this.sourceComp]}),Object(n.c)("div",{attrs:{style:"width: 44%; max-height: inherit;"},children:[this.previewComp]})]:[],...!0===r?[...!0===s?[Object(n.c)("div",{attrs:{style:"width: 88%; max-height: inherit;"},children:[this.previewComp]})]:[],...!1===s?[Object(n.c)("div",{attrs:{style:"width: 88%; max-height: inherit;"},children:[this.sourceComp]})]:[]]:[]]:[Object(n.c)("div",{attrs:{style:"width: 88%; max-height: inherit;"},children:[new c]})]]})]})}};var g=class{constructor(){}downloadFile(e,t){const i=new Blob([t],{type:"text/html;charset=utf-8;"}),n=document.createElement("a");if(void 0!==n.download){const t=URL.createObjectURL(i);n.setAttribute("href",t),n.setAttribute("download",e),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)}}};var p=class{constructor(){this.fileService=new o,this.exportService=new g}addFile(){this.fileService.addFile()}expandHeight(){const e=Object(n.b)();let t=e.getHeightModifier();t+=10,e.setHeightModifier(t),Object(n.e)(e)}shrinkHeight(){const e=Object(n.b)();let t=e.getHeightModifier();t-=10,e.setHeightModifier(t),Object(n.e)(e)}togglePreview(){const e=Object(n.b)();e.setShowPreview(!e.getShowPreview()),s.DETACHED_SET_TIMEOUT(()=>{e.getDataSubject().next(!0)},0),Object(n.e)(e)}onRun(){Object(n.b)().getDataSubject().next(!0)}onClearConsole(){const e=document.getElementById("tryit-sling-console");e&&(e.value="")}onExport(){const e=document.getElementById("tryit-sling-iframe");if(e){let t="";if(e.contentDocument){const i=e.contentDocument.head.querySelectorAll("script");for(let t=0;t<i.length;++t)i[t].hasAttribute("tryit-sling-script")&&e.contentDocument.head.removeChild(i[t]);t=e.contentDocument.documentElement.outerHTML}else if(e.contentWindow){const i=e.contentWindow.document.head.querySelectorAll("script");for(let t=0;t<i.length;++t)i[t].hasAttribute("tryit-sling-script")&&e.contentWindow.document.head.removeChild(i[t]);t=e.contentWindow.document.documentElement.outerHTML}this.exportService.downloadFile("export.html",t)}}onImport(e){if(e&&e.target&&e.target.files){const t=e.target.files[0];if(t){const e=new FileReader;e.readAsText(t,"UTF-8"),e.onload=e=>{const t=Object(n.b)(),i=t.getEditIndex();this.fileService.updateFileData(i,e.target.result),t.getDataSubject().next(!0)}}}}onImportWorkspace(e){if(e&&e.target&&e.target.files){const t=e.target.files[0];if(t){const e=new FileReader;e.readAsText(t,"UTF-8"),e.onload=e=>{const t=document.createElement("iframe");t.style.visibility="hidden",document.body.appendChild(t);const i=t.contentWindow?t.contentWindow:t.contentDocument.document?t.contentDocument.document:t.contentDocument;if(i.document.open(),i.document.write(e.target.result),i.document.close(),t.contentDocument){const e=t.contentDocument.head.querySelectorAll("script");for(let t=0;t<e.length;++t)this.fileService.addFile(e[t].textContent,!0,!1);for(let i=0;i<e.length;++i)t.contentDocument.head.removeChild(e[i]);const i=t.contentDocument.head.querySelectorAll("style");for(let e=0;e<i.length;++e)this.fileService.addFile(i[e].textContent,!1,!0);for(let e=0;e<i.length;++e)t.contentDocument.head.removeChild(i[e]);const n=t.contentDocument.documentElement.outerHTML;this.fileService.addFile(n)}else if(t.contentWindow){const e=t.contentWindow.document.head.querySelectorAll("script");for(let t=0;t<e.length;++t)this.fileService.addFile(e[t].textContent,!0,!1);for(let i=0;i<e.length;++i)t.contentWindow.document.head.removeChild(e[i]);const i=t.contentDocument.head.querySelectorAll("style");for(let e=0;e<i.length;++e)this.fileService.addFile(i[e].textContent,!1,!0);for(let n=0;n<e.length;++n)t.contentWindow.document.head.removeChild(i[n]);const n=t.contentWindow.document.documentElement.outerHTML;this.fileService.addFile(n)}document.body.removeChild(t),Object(n.b)().getDataSubject().next(!0),Object(n.a)()}}}}onHelpToggle(){const e=Object(n.b)();e.setShowHelp(!e.getShowHelp()),Object(n.e)(e),e.getShowHelp()||s.DETACHED_SET_TIMEOUT(()=>{e.getDataSubject().next(!0)},0)}onSlingDemo(){const e=this.fileService.buildSlingDemo(),t=Object(n.b)();t.setEditIndex(e),s.DETACHED_SET_TIMEOUT(()=>{t.getDataSubject().next(!0)},0)}view(){const e=Object(n.b)(),t=e.getHeightModifier(),i=e.getCollapsedMode(),o=e.getVersion();return Object(n.c)("div",{attrs:{style:"padding: 0.5rem; background-color: rgb(46, 49, 56); display: flex; flex-direction: row; flex-wrap: wrap;"},children:[Object(n.c)("div",{attrs:{style:"margin-right: 0.5rem; display: inline-block; color: rgb(204, 204, 204); align-self: center;"},children:[Object(n.c)("h4",{attrs:{style:"margin: 0px; display: inline-block; margin-right: 0.25rem;"},children:[Object(n.f)("Code Editor")]}),Object(n.c)("span",{children:[Object(n.f)(o)]})]}),Object(n.c)("button",{attrs:{onclick:this.addFile.bind(this),style:"margin-bottom: 0.25rem; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(n.f)("Add File")]}),Object(n.c)("button",{attrs:{onclick:this.expandHeight.bind(this),style:"margin-bottom: 0.25rem; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(n.f)("Expand")]}),...t>0?[Object(n.c)("button",{attrs:{onclick:this.shrinkHeight.bind(this),style:"margin-bottom: 0.25rem; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(n.f)("Shrink")]})]:[],Object(n.c)("button",{attrs:{onclick:this.onRun.bind(this),style:"margin-bottom: 0.25rem; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(n.f)("Run")]}),...!0===i?[Object(n.c)("button",{attrs:{onclick:this.togglePreview.bind(this),style:"margin-bottom: 0.25rem; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(n.f)("Toggle Preview")]})]:[],Object(n.c)("button",{attrs:{onclick:this.onExport.bind(this),style:"margin-bottom: 0.25rem; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(n.f)("Export")]}),Object(n.c)("label",{attrs:{id:"try-sling-import-label",for:"tryit-sling-import",style:"margin-bottom: 0.25rem; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(n.f)("Import File")]}),Object(n.c)("label",{attrs:{id:"try-sling-import-workspace-label",for:"tryit-sling-import-workspace",style:"margin-bottom: 0.25rem; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(n.f)("Import Workspace")]}),Object(n.c)("input",{attrs:{onchange:this.onImport.bind(this),id:"tryit-sling-import",type:"file",style:"display: none;"}}),Object(n.c)("input",{attrs:{onchange:this.onImportWorkspace.bind(this),id:"tryit-sling-import-workspace",type:"file",style:"display: none;"}}),Object(n.c)("button",{attrs:{onclick:this.onHelpToggle.bind(this),style:"margin-bottom: 0.25rem; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(n.f)("Toggle Help")]}),Object(n.c)("button",{attrs:{id:"tryit-sling-clear-console",onclick:this.onClearConsole.bind(this),style:"margin-bottom: 0.25rem; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(n.f)("Clear Console")]}),Object(n.c)("button",{attrs:{onclick:this.onSlingDemo.bind(this),style:"margin-bottom: 0.25rem; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(n.f)("Sling.js Demo")]})]})}};var b=class{constructor(){this.contentPanelComp=new u}slOnInit(){const e=document.getElementById("tryit-root").style.height,t=Object(n.b)();t.setInlineHeight(e),Object(n.e)(t)}view(){return Object(n.c)("div",{attrs:{id:"tryit-root",style:"background-color: rgb(21, 24, 30); width: 100%;"},children:[new p,this.contentPanelComp]})}};var f=class{constructor(){this.COLLAPSED_MODE_WIDTH=768}onWindowResize(){const e=Object(n.b)();window.outerWidth<=this.COLLAPSED_MODE_WIDTH?e.setCollapsedMode(!0):e.setCollapsedMode(!1),s.DETACHED_SET_TIMEOUT(()=>{e.getDataSubject().next(!0)},0),Object(n.e)(e),Object(n.a)()}addResizeListener(){window.addEventListener("resize",this.onWindowResize.bind(this)),this.onWindowResize()}};const m=e=>{const t={},i=[];let n=e;return t.subscribe=function(e){return i.push(e),this},t.clearSubscription=function(e){const t=i.filter(t=>t!==e);return this.clearSubscriptions(),i.concat(t),this},t.getHasSubscription=function(e){const t=i.find(t=>t===e);return null!=t&&void 0!==t},t.clearSubscriptions=function(){return i.splice(0,i.length),this},t.next=function(e){return n=e,i.forEach(e=>{e(n)}),this},t.getData=function(){return n},t};const v=new class{constructor(){this.editIndex=0,this.dataUpdated=m(!1),this.heightModifier=0,this.inlineHeight="",this.collapsedMode=!1,this.showPreview=!1,this.version="2.2",this.showHelp=!1,this.sourceHasNewInput=m(!1),this.invalidScriptIndices=m([]),this.caretPositionToRestore=0,this.preserveFocus=!1}setPreserveFocus(e){this.preserveFocus=e}getPreserveFocus(){return this.preserveFocus}getCaretPositionToRestore(){return this.caretPositionToRestore}setCaretPositionToRestore(e){this.caretPositionToRestore=e}getInvalidScriptIndexSubject(){return this.invalidScriptIndices}getShowHelp(){return this.showHelp}setShowHelp(e){this.showHelp=e}getVersion(){return this.version}getShowPreview(){return this.showPreview}setShowPreview(e){this.showPreview=e}getCollapsedMode(){return this.collapsedMode}setCollapsedMode(e){this.collapsedMode=e}getInlineHeight(){return this.inlineHeight}setInlineHeight(e){this.inlineHeight=e}getSourceHasNewInputSubject(){return this.sourceHasNewInput}getDataSubject(){return this.dataUpdated}getEditIndex(){return this.editIndex}setEditIndex(e){this.editIndex=e}getHeightModifier(){return this.heightModifier}setHeightModifier(e){this.heightModifier=e}};Object(n.e)(v),(new f).addResizeListener(),Object(n.d)("tryit-root",new b)}]);