!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return g})),n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return b})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return I}));const i="undefined"!=typeof window;var o=i?window:e;i||(o.setTimeout=()=>{},o.setInterval=()=>{},o.location={},o.location.href="",o.fetch=()=>{},o.XMLHttpRequest={},o.XMLHttpRequest.prototype={},o.XMLHttpRequest.prototype.send=()=>{}),o.s=function(){};const r=o.setTimeout,c=o.setInterval;Object.defineProperty(s,"DETACHED_SET_TIMEOUT",{value:r.bind(o)}),Object.defineProperty(s,"DETACHED_SET_INTERVAL",{value:c.bind(o)}),s._state={},s._destroyFuncMap=new Map,s._updateMap=new Map,s._afterInitArr=[];const l=({tagName:e,attrs:t,children:n})=>{let i,o=document.createElement(e);for(let[e,n]of Object.entries(t))"function"==(i=typeof n)?(o[e]=n,s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&O(e,o)):o.setAttribute(e,n);for(let e of n)if("string"==typeof e)o.append(e);else{if(e.view){if(e.slOnInit&&e.slOnInit(),e.slOnDestroy){let t=s._destroyFuncMap.get(s._router.mountRoute);t||(t=[]),t.push(e.slOnDestroy.bind(e)),s._destroyFuncMap.set(s._router.mountRoute,t)}e.slAfterInit&&s._afterInitArr.push(e.slAfterInit.bind(e)),e=e.view.bind(e)()}o.appendChild(l(e))}return o},a=(e,t,n)=>{let i;for(let i of t){let t=n[i.name];t?t.length===i.nodeValue.length&&t===i.nodeValue&&delete n[i.name]:e.removeAttribute(i.nodeName)}for(let[t,o]of Object.entries(n))"function"==(i=typeof o)?(e[t]=o,s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&O(t,e)):e.setAttribute(t,o)},d=(e,t,n)=>{const i=t.length;let o=0;for(let e=t.length-1;e>=0;--e)h(t[e],n[e]),o++;for(;t.length>i;)t[t.length-1].remove();for(let t of n.slice(i)){if("string"==typeof t)e.childNodes[o]?e.childNodes[o].textContent!==t&&(e.childNodes[o].textContent=t):e.append(t);else if("string"==typeof t)e.append(t);else{if(t.view){if(t.slOnInit&&t.slOnInit(),t.slOnDestroy){let e=s._destroyFuncMap.get(s._router.mountRoute);e||(e=[]),e.push(t.slOnDestroy.bind(t)),s._destroyFuncMap.set(s._router.mountRoute,e)}t.slAfterInit&&s._afterInitArr.push(t.slAfterInit.bind(t)),t=t.view.bind(t)()}e.appendChild(l(t))}o++}for(;t.length>n.length;)t[t.length-1].remove()},h=(e,t)=>{if(t&&t.view){if(t.slOnInit&&t.slOnInit(),t.slOnDestroy){let e=s._destroyFuncMap.get(s._router.mountRoute);e||(e=[]),e.push(t.slOnDestroy.bind(t)),s._destroyFuncMap.set(s._router.mountRoute,e)}t.slAfterInit&&s._afterInitArr.push(t.slAfterInit.bind(t)),t=t.view.bind(t)()}if(t){if(e&&e.tagName!==t.tagName){if(!t.tagName)return e.replaceWith(t),void(e=t);{let n=document.createElement(t.tagName);e.parentNode.insertBefore(n,e),e=n}}if("string"!=typeof t){switch(t.attrs.sldirective){case"useexsting":return;case"onlychildren":return void d(e,e.childNodes,t.children);case"onlyself":return void a(e,e.attributes,t.attrs);case"trustchildren":{a(e,e.attributes,t.attrs);let n="";return t.children.forEach(e=>{n+=e}),void(e.innerHTML!==n&&(e.innerHTML=n))}}a(e,e.attributes,t.attrs),d(e,e.childNodes,t.children)}else e.textContent!==t&&(e.textContent=t)}else e&&e.remove()},u=(e,t,n)=>{s._afterInitArr=[],t.slOnInit&&t.slOnInit();let i=t.view.bind(t)();if(i.view&&(i=i.view.bind(t)()),!i.attrs||e&&e.id!==i.attrs.id){const t=i.attrs?i.attrs.id:"null";console.error("Mounted component root element changed from "+e.id+" to "+t)}return h(e,i),n&&s._updateMap.set(e.id,t),t.slAfterInit&&(t.slAfterInit(),w()),s._afterInitArr.forEach(e=>{e()}),e};function g(e){s._state=e}function p(){return s._state}function b(e){return String(e)}function f(e,{attrs:t={},children:n=[]}={}){return{tagName:e=e.toUpperCase(),attrs:t,children:n}}function m(e,t,n=!0){s._router.mountRoute=e;let i=document.getElementById(e);if(null!==i)return u(i,t,n);console.error("ID "+e+" does not exist in DOM.")}function y(e,t){const n=e;if(e=document.getElementById(e)){let n=t.view.bind(t)();h(e,n)}else console.error("ID "+n+" not mounted in DOM; attachDetector likely needs to be called.");s._afterInitArr.forEach(e=>{e()})}let v=o.onpopstate;o.onpopstate=function(e){o.location.hash&&s._router.lastHash!==o.location.hash.substring(1)&&(v&&v(e),function e(t,n={},i=!0){if(s._router.params=n,s._router.currentRoute&&s._router.currentRoute.onCanDeactivate&&!s._router.currentRoute.onCanDeactivate(t))return;let r=null;for(let[n,c]of s._router.routeList)if(n.test(t)){if(c.onActivationCheck&&!c.onActivationCheck(t))return c.onActivationFail&&(r=e(c.onActivationFail.route,c.onActivationFail.params,"boolean"!=typeof c.onActivationFail.attachDetector||c.onActivationFail.attachDetector)),void(t=void 0);c.onBeforeRoute&&c.onBeforeRoute();const n=s._destroyFuncMap.get(j());n&&(n.forEach(e=>{e()}),s._destroyFuncMap.set(j(),[])),s._router.lastHash=t,o.location.hash=t,x(),s._router.currentRoute=c;let l=document.getElementById(c.root);c.component&&(c.component.slOnDestroy&&s._destroyFuncMap.set(t,[c.component.slOnDestroy.bind(c.component)]),s._router.mountRoute=t,u(l,c.component,i),r=c.component);break}return s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&w(),r}(j()))},s._router={segmentArr:[],routeList:[],params:null,lastHash:!1,currentRoute:null,mountRoute:""},Object.seal(s._router);const x=()=>{let e=o.location.href.split("#")[1];if(e){let t=e.split("/");t.forEach((e,t)=>{s._router.segmentArr[t]=e}),s._router.segmentArr.splice(t.length,s._router.segmentArr.length)}else s._router.segmentArr.splice(0,s._router.segmentArr.length)};function j(){return o.location.href.split("#")[1]}x(),s.CHANGE_STRATEGY_AUTOMATIC=100,s.CHANGE_STRATEGY_MANUAL=200,s.CHANGE_DETECTOR_DETACHED=!1,s.CHANGE_DETECTOR_ATTACHED=!0,s._changeStrategies=[s.CHANGE_STRATEGY_AUTOMATIC,s.CHANGE_STRATEGY_MANUAL],s._changeDetector={lastUpdateDate:new Date,changeDetectionStrategy:s.CHANGE_STRATEGY_AUTOMATIC},Object.seal(s._changeDetector),Object.freeze(s._changeStrategies);const O=(e,t)=>{if(t[e]){let n=t[e];t[e]=function(){let e=n.apply(this,[].slice.call(arguments));return w(),e}}},S=(e=null)=>{e?y(e,s._updateMap.get(e)):s._updateMap.forEach((e,t)=>{y(t,e)})},w=()=>{s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&(new Date-s._changeDetector.lastUpdateDate>17?S():s._debouncedPerformUpdates(),s._changeDetector.lastUpdateDate=new Date)};function I(e=null){S(e)}s._debouncedPerformUpdates=function(e,t){let n;return function(...t){const i=this;clearTimeout(n),n=s.DETACHED_SET_TIMEOUT(()=>e.apply(i,t),17)}}(S);let C=o.XMLHttpRequest.prototype.send;function E(){if(this._onreadystatechange){let e=this._onreadystatechange.apply(this,arguments);return w(),e}}o.XMLHttpRequest.prototype.send=function(e){return this.onreadystatechange&&(this._onreadystatechange=this.onreadystatechange),this.onreadystatechange=E,C.apply(this,arguments)};let T=o.fetch;o.fetch=function(){let e=T.apply(this,arguments);return w(),e},O("setTimeout",o),O("setInterval",o)}).call(this,n(2))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var i=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],o="undefined"!=typeof window,r=o&&null!=window.mozInnerScreenX;function s(e,t,n){if(!o)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var s=n&&n.debug||!1;if(s){var c=document.querySelector("#input-textarea-caret-position-mirror-div");c&&c.parentNode.removeChild(c)}var l=document.createElement("div");l.id="input-textarea-caret-position-mirror-div",document.body.appendChild(l);var a=l.style,d=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,h="INPUT"===e.nodeName;a.whiteSpace="pre-wrap",h||(a.wordWrap="break-word"),a.position="absolute",s||(a.visibility="hidden"),i.forEach((function(e){if(h&&"lineHeight"===e)if("border-box"===d.boxSizing){var t=parseInt(d.height),n=parseInt(d.paddingTop)+parseInt(d.paddingBottom)+parseInt(d.borderTopWidth)+parseInt(d.borderBottomWidth),i=n+parseInt(d.lineHeight);a.lineHeight=t>i?t-n+"px":t===i?d.lineHeight:0}else a.lineHeight=d.height;else a[e]=d[e]})),r?e.scrollHeight>parseInt(d.height)&&(a.overflowY="scroll"):a.overflow="hidden",l.textContent=e.value.substring(0,t),h&&(l.textContent=l.textContent.replace(/\s/g,"Â "));var u=document.createElement("span");u.textContent=e.value.substring(t)||".",l.appendChild(u);var g={top:u.offsetTop+parseInt(d.borderTopWidth),left:u.offsetLeft+parseInt(d.borderLeftWidth),height:parseInt(d.lineHeight)};return s?u.style.backgroundColor="#aaa":document.body.removeChild(l),g}void 0!==e.exports?e.exports=s:o&&(window.getCaretCoordinates=s)}).call(this,n(3)(e))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";n.r(t);var i=n(0);var o=class{constructor(){this.SLING_DEMO_HTML='<html><body><div id="divRouterOutlet"></div></body></html>',this.SLING_DEMO_CSS=".visible {\n    animation: fadein 800ms ease-in-out;\n}\n\n.hide {\n    animation: fadeout 800ms ease-in-out;\n}\n\n@keyframes fadein {\n    from {\n        opacity: 0;\n        transform: translateY(-5%);\n    }\n\n    to {\n        opacity: 1;\n        transform: translateY(0%);\n    }\n}\n\n@keyframes fadeout {\n    from {\n        opacity: 1;\n        transform: translateY(0%);\n    }\n\n    to {\n        opacity: 0;\n        transform: translateY(100%);\n    }\n}",this.SLING_DEMO_JAVASCRIPT="import { mount, textNode, markup } from 'https://cdn.skypack.dev/slingjs';\n\nclass HelloWorldComponent {\n    constructor() {\n        this.welcomeHidden = false;\n    }\n\n    hideWelcome() {\n        this.welcomeHidden = true;\n    }\n\n    showWelcome() {\n        this.welcomeHidden = false;\n    }\n\n    view() {\n        return markup('div', {\n            attrs: {\n                id: 'divRouterOutlet',\n                ...this.welcomeHidden !== true && { class: 'visible' },\n                style: 'display: flex; justify-content: center; align-items: center; height: 100%;'\n            },\n            children: [\n                ...(this.welcomeHidden === false ? [\n                    markup('h1', {\n                        attrs: {\n                            slanimatedestroy: 'hide',\n                        },\n                        children: [\n                            textNode('Hello, world!'),\n                            markup('button', {\n                                attrs: {\n                                    onclick: this.hideWelcome.bind(this)\n                                },\n                                children: [\n                                    textNode('Hide')\n                                ]\n                            })\n                        ]\n                    })\n                ] : [\n                  markup('button', {\n                                attrs: {\n                                    onclick: this.showWelcome.bind(this)\n                                },\n                                children: [\n                                    textNode('Show')\n                                ]\n                            })\n                ])\n            ]\n\n        });\n    }\n}\n\nmount('divRouterOutlet', new HelloWorldComponent());",this.fileListObject="filelist",this.initializeFileList()}buildSlingDemo(){const e=this.getFileList().length;return this.addFile(this.SLING_DEMO_HTML,!1,!1),this.setFileName(e,"Sling Demo HTML"),this.addFile(this.SLING_DEMO_CSS,!1,!0),this.setFileName(e+1,"Sling Demo CSS"),this.addFile(this.SLING_DEMO_JAVASCRIPT,!0,!1),this.setFileName(e+2,"Sling Demo JavaScript"),e}getFile(e){return this.getFileList().find(t=>t.index===e)}getFileData(e){const t=this.getFileList().find(t=>t.index===e);return t?t.data:""}getFileList(){const e=localStorage.getItem(this.fileListObject);return JSON.parse(e)}addFile(e=null,t=!1,n=!1){const i=this.getFileList();let o=0;const r=new Set(i.map(e=>e.index));for(;r.has(o);)o++;const s=this.getFileObject(o);null!=e&&(s.data=e,s.injectScript=t,s.injectCss=n),i.push(s),this.setFileList(i)}removeFile(e){let t=this.getFileList();t=t.filter(t=>t.index!==e),this.setFileList(t)}updateFileData(e,t){const n=this.getFileList(),o=n.find(t=>t.index===e);o&&(o.data=t),this.setFileList(n),Object(i.b)().getSourceHasNewInputSubject().next(!0)}updateFileInject(e,t=null){const n=this.getFileList(),i=n.find(t=>t.index===e);i&&(i.injectScript?i.injectScript=null==t?!i.injectScript:t:i.injectScript=null==t||t),this.setFileList(n)}updateFileInjectCss(e,t=null){const n=this.getFileList(),i=n.find(t=>t.index===e);i&&(i.injectCss?i.injectCss=null==t?!i.injectCss:t:i.injectCss=null==t||t),this.setFileList(n)}setFileName(e,t){const n=this.getFileList(),i=n.find(t=>t.index===e);i&&(i.name=t),this.setFileList(n)}setFileList(e){localStorage.setItem(this.fileListObject,JSON.stringify(e))}getFileObject(e){return{name:"",index:e,data:"",injectScript:!1,injectCss:!1}}initializeFileList(){const e=localStorage.getItem(this.fileListObject);if(null==e||null==e)localStorage.setItem(this.fileListObject,JSON.stringify([]));else{const t=JSON.parse(e);Array.isArray(t)||localStorage.setItem(this.fileListObject,JSON.stringify([]))}}};var r=class{constructor(){this.fileService=new o,this.editNameIndex=-1,this.editedFileName=""}onEditName(e){this.editNameIndex=e;const t=this.fileService.getFile(e);this.editedFileName=t.name?t.name:""}onFinishEditName(e){this.fileService.setFileName(e,this.editedFileName),this.editedFileName="",this.editNameIndex=-1}onFileNameInput(e){this.editedFileName=e.target.value}onFileSelection(e){const t=Object(i.b)();t.setEditIndex(e),t.getDataSubject().next(!0),Object(i.e)(t)}onRemoveFile(e){this.fileService.removeFile(e),Object(i.b)().getDataSubject().next(!0)}onToggleInject(e){this.fileService.updateFileInject(e),this.fileService.updateFileInjectCss(e,!1),Object(i.b)().getDataSubject().next(!0)}onToggleInjectCss(e){this.fileService.updateFileInjectCss(e),this.fileService.updateFileInject(e,!1),Object(i.b)().getDataSubject().next(!0)}view(){const e=this.fileService.getFileList(),t=Object(i.b)().getEditIndex();return Object(i.c)("div",{attrs:{style:"background-color: rgb(32, 35, 39); color: rgb(204, 204, 204); overflow: auto; max-height: inherit;"},children:[...Array.from(e,(e,n)=>Object(i.c)("div",{attrs:{...t!==e.index&&n%2==0&&{style:"padding: 0.5rem;"},...t!==e.index&&n%2!=0&&{style:"padding: 0.5rem; background-color: rgb(21, 24, 30);"},...t===e.index&&{style:"padding: 0.5rem; background-color: rgb(60, 68, 83);"},onclick:this.onFileSelection.bind(this,e.index)},children:[Object(i.c)("button",{attrs:{style:"margin: 0 0.5rem 0.5rem 0; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204);",...e.index!==this.editNameIndex&&{onclick:this.onEditName.bind(this,e.index)},...e.index===this.editNameIndex&&{onclick:this.onFinishEditName.bind(this,e.index)}},children:[...e.index===this.editNameIndex?[Object(i.f)("Save Name")]:[Object(i.f)("Edit Name")]]}),Object(i.c)("button",{attrs:{style:"margin-right: 0 0.5rem 0.5rem 0; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204);",onclick:this.onRemoveFile.bind(this,e.index)},children:[Object(i.f)("Remove File")]}),Object(i.c)("div",{children:[...t===e.index?[Object(i.c)("strong",{children:[Object(i.f)("File "+(e.index+1)+": "+e.name)]})]:[Object(i.f)("File "+(e.index+1)+": "+e.name)]]}),...e.index===this.editNameIndex?[Object(i.c)("input",{attrs:{style:" 0 0.5rem 0.5rem 0.5rem",oninput:this.onFileNameInput.bind(this),value:this.editedFileName}})]:[],Object(i.c)("div",{children:[Object(i.c)("span",{attrs:{style:"margin-right: 0.25rem;"},children:[Object(i.f)("Inject Script")]}),Object(i.c)("input",{attrs:{type:"checkbox",...e.injectScript&&{checked:"true"},onchange:this.onToggleInject.bind(this,e.index)}})]}),Object(i.c)("div",{children:[Object(i.c)("span",{attrs:{style:"margin-right: 0.25rem;"},children:[Object(i.f)("Inject CSS")]}),Object(i.c)("input",{attrs:{type:"checkbox",...e.injectCss&&{checked:"true"},onchange:this.onToggleInjectCss.bind(this,e.index)}})]})]}))]})}};var c=class{constructor(){}view(){return Object(i.c)("div",{attrs:{style:"padding: 0.25rem; background-color: rgb(21, 24, 30); color: rgb(204, 204, 204); overflow: auto; height: calc(100% - 0.5rem); display: flex; flex-direction: column;"},children:[Object(i.c)("div",{attrs:{style:"flex: 20;"},children:[Object(i.c)("h4",{attrs:{style:"margin: 0px;"},children:[Object(i.f)("Code Editor Help")]}),Object(i.c)("p",{children:[Object(i.f)("Click Add File to add a new file. Toggle Inject Script to inject the file as a <script> tag in the <head> of the preview. Toggle Inject CSS to inject the file as a <style> tag in the <head> of the preview.")]}),Object(i.c)("p",{children:[Object(i.f)("Click Expand and Shrink to change the size of the Code Editor.")]}),Object(i.c)("p",{children:[Object(i.f)("Click Run to update the preview.")]}),Object(i.c)("p",{children:[Object(i.f)("Click Export to export the preview page HTML.")]}),Object(i.c)("p",{children:[Object(i.f)("Click Import File to import a file's contents into the source panel.")]}),Object(i.c)("p",{children:[Object(i.f)("Click Import Workspace to import a previously exported HTML file. This may create multiple files.")]}),Object(i.c)("p",{children:[Object(i.f)("Click Toggle Preview on small screens to toggle the preview.")]}),Object(i.c)("p",{children:[Object(i.f)("Click Clear Console to clear the preview console.")]}),Object(i.c)("p",{children:[Object(i.f)("Click Sling.js Demo to build a 'Hello, world!' Sling.js project.")]}),Object(i.c)("p",{children:[Object(i.f)("Press Tab or click on the suggested word popup to insert the suggested word.")]})]})]})}};var l=class{constructor(){this.fileService=new o,this.injectedList="",this.isPreviewLoading=!1,this.onInvalidScriptFunction=()=>{Object(i.a)()},this.onFileChangeFunction=()=>{this.injectedList="Injected files: ";const e=document.getElementById("tryit-sling-iframe"),t=Object(i.b)(),n=t.getEditIndex(),o=this.fileService.getFileData(n);let r=this.fileService.getFileList();r=r.filter(e=>e.injectScript);let c=this.fileService.getFileList();c=c.filter(e=>e.injectCss);const l=e.contentWindow?e.contentWindow:e.contentDocument.document?e.contentDocument.document:e.contentDocument;if(l.document.open(),l.document.write(o),l.document.head){const e=document.createElement("script");e.text=this.getConsoleScriptText(),e.type="module",e.setAttribute("tryit-sling-script","true"),l.document.head.appendChild(e),r.forEach(e=>{if(e.index!==n&&e.data&&e.data.length>0){var o=document.createElement("script");o.text=e.data+="\nlet slTryItCount = Number(localStorage.getItem('tryitCount')); slTryItCount++; localStorage.setItem('tryitCount', slTryItCount);",o.type="module";let n=localStorage.getItem("tryitCount");n?n=Number(n):(n=0,localStorage.setItem("tryitCount",n));let r=0;this.isPreviewLoading=!0;const c=s.DETACHED_SET_INTERVAL(()=>{const o=Number(localStorage.getItem("tryitCount"));if(n===o){const n=t.getInvalidScriptIndexSubject(),i=n.getData();i.includes(e.index)||i.push(e.index),n.next(i)}else{const n=t.getInvalidScriptIndexSubject(),i=n.getData(),o=i.indexOf(e.index);o>-1&&i.splice(o,1),n.next(i)}17===++r&&(clearInterval(c),this.isPreviewLoading=!1,Object(i.a)())},300);l.document.head.appendChild(o),this.injectedList.length>16&&(this.injectedList+=", "),this.injectedList+=e.index+1,e.name.length>0&&(this.injectedList+=" ("+e.name+")");const a=t.getInvalidScriptIndexSubject(),d=a.getData(),h=d.indexOf(e.index);h>-1&&d.splice(h,1),a.next(d)}}),c.forEach(e=>{if(e.index!==n&&e.data&&e.data.length>0){var t=document.createElement("style");t.textContent=e.data,l.document.head.appendChild(t),this.injectedList.length>16&&(this.injectedList+=", "),this.injectedList+=e.index+1,e.name.length>0&&(this.injectedList+=" ("+e.name+")")}})}l.document.close(),l.document.head&&Object(i.a)()}}slAfterInit(){const e=Object(i.b)(),t=e.getDataSubject();t.getHasSubscription(this.onFileChangeFunction)||(t.subscribe(this.onFileChangeFunction),t.next(!0));const n=e.getInvalidScriptIndexSubject();n.getHasSubscription(this.onInvalidScriptFunction)||n.subscribe(this.onInvalidScriptFunction)}getConsoleScriptText(){return"const console=(function(oldCons) { return {log: function(text) { oldCons.log(text); window.parent.document.getElementById('tryit-sling-console').value += text + '\\r\\n'; },info: function (text) { oldCons.info(text); window.parent.document.getElementById('tryit-sling-console').value += text + '\\r\\n'; },warn: function (text) { oldCons.warn(text); window.parent.document.getElementById('tryit-sling-console').value += text + '\\r\\n'; },error: function (text) { oldCons.error(text); window.parent.document.getElementById('tryit-sling-console').value += text + '\\r\\n'; }}; }(window.console)); window.console = console;"}addFile(){this.fileService.addFile()}getInvalidScriptMessage(){const e=Object(i.b)().getInvalidScriptIndexSubject().getData();if(e&&e.length>0){let t="Invalid Files: ";return e.forEach((e,n)=>{n>0&&(t+=", "),t+="File "+(e+1)}),t+" "}return""}view(){const e=this.getInvalidScriptMessage();return Object(i.c)("div",{attrs:{style:"padding: 0.25rem; color: rgb(204, 204, 204); max-height: inherit; overflow: auto; display: flex; flex-direction: column; height: calc(100% - 0.5rem);"},children:[Object(i.c)("h4",{attrs:{style:"margin: 0px; flex: 1;"},children:[...0!==e.length||this.isPreviewLoading?[]:Object(i.f)("Preview"),...0===e.length||this.isPreviewLoading?[]:Object(i.f)(e),...0===e.length||this.isPreviewLoading?[]:[Object(i.c)("span",{attrs:{style:"font-family: sans-serif; color: red"},children:[Object(i.f)("X")]})],...this.isPreviewLoading?Object(i.f)("Loading..."):[]]}),...this.injectedList.length>16?[Object(i.c)("div",{attrs:{style:"background-color: rgb(46, 49, 56); padding: 0.25rem; flex: 1;"},children:[Object(i.f)(this.injectedList)]})]:[],Object(i.c)("iframe",{attrs:{frameborder:"0",id:"tryit-sling-iframe",sldirective:"onlyself",...this.injectedList.length>16&&{style:"background-color: #ffffff; width: 100%; flex: 14;"},...this.injectedList.length<=16&&{style:"background-color: #ffffff; width: 100%; flex: 15;"}}}),Object(i.c)("textarea",{attrs:{id:"tryit-sling-console",sldirective:"onlyself",style:"width: 100%; flex: 4;",placeholder:"Text will appear when logged"}})]})}},a=n(1);var d=class{constructor(){this.JAVASCRIPT_RESERVED_WORD_LIST=["abstract","arguments","await","boolean","break","byte","case","catch","char","class","const","continue","debugger","default","delete","do","double","else","enum","eval","export","extends","false","final","finally","float","for","function","goto","if","implements","import","in","instanceof","int","interface","let","long","native","new","null","package","private","protected","public","return","short","static","super","switch","synchronized","this","throw","throws","transient","true","try","typeof","var","void","volatile","while","with","yield"],this.HTML_TAG_NAMES=["!DOCTYPE","a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],this.fileService=new o,this.selectionText=null,this.occurrence=-1,this.x=-1,this.y=-1,this.suggestion="",this.input="",this.newInput=!1,this.scrollY=0,this.onSourceHasNewInput=()=>{this.newInput=!0},this.processSourceHasNewInput=this.debounce(()=>this.onSourceHasNewInput()),this.CHECK_DIRTY_INTERVAL=300,this.onDataChanged=()=>{this.suggestion="",this.input=""}}slOnInit(){const e=Object(i.b)(),t=e.getSourceHasNewInputSubject();t.getHasSubscription(this.processSourceHasNewInput)||t.subscribe(this.processSourceHasNewInput);const n=e.getDataSubject();n.getHasSubscription(this.onDataChanged)||n.subscribe(this.onDataChanged);const o=document.getElementById("tryit-sling-textarea");o&&o.addEventListener("scroll",function(e,t){this.scrollY=e.scrollTop}.bind(this,o),!1),s.DETACHED_SET_INTERVAL(()=>{if(this.newInput){const e=document.getElementById("tryit-sling-textarea");if(e&&e.selectionEnd>=16){this.selectionText=e.value.slice(e.selectionEnd-16,e.selectionEnd),this.occurrence=this.countOccurrences(e.value,this.selectionText);const t=Object(i.b)().getEditIndex(),n=this.fileService.getFileData(t),o=this.getIndicesOf(this.selectionText,n,!0)[this.occurrence-1];let r=n.substring(o);(r=r.substring(0,this.selectionText.length))&&r.includes("<")?(this.input=r.substring(r.lastIndexOf("<")+1),this.input=this.input.trim(),this.input.includes(" ")&&(this.input=r.substring(r.lastIndexOf(" ")+1),this.input=this.input.trim()),this.determineSuggestionIfPossible(n,o,e)):r&&r.includes(" ")?(this.input=r.substring(r.lastIndexOf(" ")+1),this.input=this.input.trim(),this.determineSuggestionIfPossible(n,o,e)):(this.suggestion=null,Object(i.a)())}this.newInput=!1}},this.CHECK_DIRTY_INTERVAL),document.addEventListener("keydown",this.onDocumentKeyDown.bind(this))}determineSuggestionIfPossible(e,t,n){if(this.input.startsWith("{")&&(this.input=this.input.substring(this.input.indexOf("{")+1),this.input=this.input.trim()),this.input&&this.input.length>0){const o=this.buildWordFrequencyMap(e);let r=0;for(const e of Object.keys(o))e.startsWith(this.input)&&o[e]>r&&(r=o[e],this.suggestion=e);if(this.suggestion&&this.suggestion.length>0){const o=this.suggestion.replace(this.input,""),r=e.substring(t+16,t+16+o.length);if(this.suggestion===this.input||r===o)this.suggestion=null,Object(i.a)();else{const e=Object(a.a)(n,n.selectionEnd),t=n.getBoundingClientRect(),o=this.getLineHeight(n);this.x=e.left+t.left,this.y=e.top+t.top-o-this.scrollY,Object(i.a)()}}}}debounce(e,t=300){let n;return(...i)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(this,i)},t)}}getLineHeight(e){const t=document.createElement(e.nodeName);let n;return t.setAttribute("style","margin:0; padding:0; font-family:"+(e.style.fontFamily||"inherit")+"; font-size:"+(e.style.fontSize||"inherit")),t.innerHTML="A",e.parentNode.appendChild(t),n=t.clientHeight,t.parentNode.removeChild(t),n}buildWordFrequencyMap(e){let t=[],n="";for(let i=0;i<e.length;++i)if(" "!==e[i]&&"("!==e[i]&&"{"!==e[i]&&";"!==e[i])n+=e[i];else if(n.length>0){const e=n.trim();e.length>0&&t.push(e),n=""}t=(t=t.concat(this.JAVASCRIPT_RESERVED_WORD_LIST)).concat(this.HTML_TAG_NAMES);const i={};return t.forEach((function(e){if("constructor"===e){let t=""+i[e];if(t)if("string"==typeof t&&t.includes("}")){t=t.substring(t.lastIndexOf("}")+1).trim();const n=Number(t)+1;i[e]=n}else i[e]+=1;else i[e]=1}else i[e]||(i[e]=0),i[e]+=1})),i}countOccurrences(e,t,n=!1){if(e+="",(t+="").length<=0)return e.length+1;for(var i=0,o=0,r=n?1:t.length;(o=e.indexOf(t,o))>=0;)++i,o+=r;return i}getIndicesOf(e,t,n){const i=e.length;if(0==i)return[];let o,r=0,s=[];for(n||(t=t.toLowerCase(),e=e.toLowerCase());(o=t.indexOf(e,r))>-1;)s.push(o),r=o+i;return s}onDocumentKeyDown(e){e&&9===e.keyCode&&this.suggestion&&this.suggestion.length>0&&this.input&&this.input.length>0&&this.insertSuggestion()}insertSuggestion(){const e=Object(i.b)(),t=e.getEditIndex(),n=this.fileService.getFileData(t),o=this.getIndicesOf(this.selectionText,n,!0)[this.occurrence-1],r=n.substring(0,o+(16-this.input.length));let s=n.substring(o+(16-this.input.length));s=s.replace(this.input,this.suggestion),this.fileService.updateFileData(t,r+s),e.setCaretPositionToRestore(o+this.suggestion.length+(16-this.input.length)),this.suggestion=null,this.input=null,e.getDataSubject().next(!0)}view(){let e="left: "+this.x+"px; top: "+this.y+"px;";return this.suggestion&&0!==this.suggestion.length||(e+=" display: none;"),Object(i.c)("div",{attrs:{style:e+"position: fixed; padding: 0.25rem; background-color: rgb(60, 68, 83); color: rgb(204, 204, 204); z-index: 1000;",onclick:this.insertSuggestion.bind(this)},children:[Object(i.f)(this.suggestion)]})}};var h=class{constructor(){this.fileService=new o,this.onFileChangeFunction=()=>{const e=document.getElementById("tryit-sling-textarea");e&&s.DETACHED_SET_TIMEOUT(()=>{const t=Object(i.b)(),n=t.getEditIndex(),o=this.fileService.getFileData(n);e.focus(),e.value=o,e.selectionStart=t.getCaretPositionToRestore(),e.selectionEnd=t.getCaretPositionToRestore()},100)},this.wordSuggestionComp=new d}slAfterInit(){const e=Object(i.b)().getDataSubject();e.getHasSubscription(this.onFileChangeFunction)||(e.subscribe(this.onFileChangeFunction),e.next(!0))}onInput(e){const t=Object(i.b)().getEditIndex();this.fileService.updateFileData(t,e.target.value)}view(){const e=Object(i.b)().getEditIndex(),t=this.fileService.getFile(e);return Object(i.c)("div",{attrs:{style:"padding: 0.25rem; background-color: rgb(21, 24, 30); color: rgb(204, 204, 204); overflow: auto; height: calc(100% - 0.5rem); display: flex; flex-direction: column;"},children:[Object(i.c)("h4",{attrs:{style:"margin: 0px; flex: 1;"},children:[...t?[Object(i.f)("File "+(t.index+1)+": "+t.name)]:[]]}),Object(i.c)("textarea",{attrs:{style:"width: 100%; background-color: rgb(0, 0, 0); border: none; color: rgb(204, 204, 204); flex: 19;",oninput:this.onInput.bind(this),id:"tryit-sling-textarea"}}),this.wordSuggestionComp]})}};var u=class{constructor(){this.fileService=new o,this.fileTreeComp=new r,this.previewComp=new l,this.sourceComp=new h,this.unitList=["cm","mm","in","px","pt","pc","em","ex","ch","rem","vw","vh","vmin","vmax","%"]}getHeightString(e,t){let n="";if(e&&e.length>0){let i=e;this.unitList.forEach(e=>{i=i.replace(e,"")});const o=Number(i),r=o+t*(o/100),s=e.replace(i,""),c=String(r)+s;n="max-height: "+c+"; height: "+c+";"}else{const e=t+60;n="max-height: "+String(e)+"vh; height: "+String(e)+"vh;"}return n}view(){const e=Object(i.b)(),t=e.getInlineHeight(),n=e.getHeightModifier(),o=this.getHeightString(t,n),r=e.getCollapsedMode(),s=e.getShowPreview(),l=e.getShowHelp();return Object(i.c)("div",{children:[Object(i.c)("div",{attrs:{style:"display: flex; justify-content: space-between;"+o},children:[Object(i.c)("div",{attrs:{style:"width: 12%; min-width: 100px; max-height: inherit;"},children:[this.fileTreeComp]}),...!1===l?[...!1===r?[Object(i.c)("div",{attrs:{style:"width: 44%; max-height: inherit;"},children:[this.sourceComp]}),Object(i.c)("div",{attrs:{style:"width: 44%; max-height: inherit;"},children:[this.previewComp]})]:[],...!0===r?[...!0===s?[Object(i.c)("div",{attrs:{style:"width: 88%; max-height: inherit;"},children:[this.previewComp]})]:[],...!1===s?[Object(i.c)("div",{attrs:{style:"width: 88%; max-height: inherit;"},children:[this.sourceComp]})]:[]]:[]]:[Object(i.c)("div",{attrs:{style:"width: 88%; max-height: inherit;"},children:[new c]})]]})]})}};var g=class{constructor(){}downloadFile(e,t){const n=new Blob([t],{type:"text/html;charset=utf-8;"}),i=document.createElement("a");if(void 0!==i.download){const t=URL.createObjectURL(n);i.setAttribute("href",t),i.setAttribute("download",e),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}};var p=class{constructor(){this.fileService=new o,this.exportService=new g}addFile(){this.fileService.addFile()}expandHeight(){const e=Object(i.b)();let t=e.getHeightModifier();t+=10,e.setHeightModifier(t),Object(i.e)(e)}shrinkHeight(){const e=Object(i.b)();let t=e.getHeightModifier();t-=10,e.setHeightModifier(t),Object(i.e)(e)}togglePreview(){const e=Object(i.b)();e.setShowPreview(!e.getShowPreview()),s.DETACHED_SET_TIMEOUT(()=>{e.getDataSubject().next(!0)},0),Object(i.e)(e)}onRun(){Object(i.b)().getDataSubject().next(!0)}onClearConsole(){const e=document.getElementById("tryit-sling-console");e&&(e.value="")}onExport(){const e=document.getElementById("tryit-sling-iframe");if(e){let t="";if(e.contentDocument){const n=e.contentDocument.head.querySelectorAll("script");for(let t=0;t<n.length;++t)n[t].hasAttribute("tryit-sling-script")&&e.contentDocument.head.removeChild(n[t]);t=e.contentDocument.documentElement.outerHTML}else if(e.contentWindow){const n=e.contentWindow.document.head.querySelectorAll("script");for(let t=0;t<n.length;++t)n[t].hasAttribute("tryit-sling-script")&&e.contentWindow.document.head.removeChild(n[t]);t=e.contentWindow.document.documentElement.outerHTML}this.exportService.downloadFile("export.html",t)}}onImport(e){if(e&&e.target&&e.target.files){const t=e.target.files[0];if(t){const e=new FileReader;e.readAsText(t,"UTF-8"),e.onload=e=>{const t=Object(i.b)(),n=t.getEditIndex();this.fileService.updateFileData(n,e.target.result),t.getDataSubject().next(!0)}}}}onImportWorkspace(e){if(e&&e.target&&e.target.files){const t=e.target.files[0];if(t){const e=new FileReader;e.readAsText(t,"UTF-8"),e.onload=e=>{const t=document.createElement("iframe");t.style.visibility="hidden",document.body.appendChild(t);const n=t.contentWindow?t.contentWindow:t.contentDocument.document?t.contentDocument.document:t.contentDocument;if(n.document.open(),n.document.write(e.target.result),n.document.close(),t.contentDocument){const e=t.contentDocument.head.querySelectorAll("script");for(let t=0;t<e.length;++t)this.fileService.addFile(e[t].textContent,!0,!1);for(let n=0;n<e.length;++n)t.contentDocument.head.removeChild(e[n]);const n=t.contentDocument.head.querySelectorAll("style");for(let e=0;e<n.length;++e)this.fileService.addFile(n[e].textContent,!1,!0);for(let i=0;i<e.length;++i)t.contentDocument.head.removeChild(n[i]);const i=t.contentDocument.documentElement.outerHTML;this.fileService.addFile(i)}else if(t.contentWindow){const e=t.contentWindow.document.head.querySelectorAll("script");for(let t=0;t<e.length;++t)this.fileService.addFile(e[t].textContent,!0,!1);for(let n=0;n<e.length;++n)t.contentWindow.document.head.removeChild(e[n]);const n=t.contentDocument.head.querySelectorAll("style");for(let e=0;e<n.length;++e)this.fileService.addFile(n[e].textContent,!1,!0);for(let i=0;i<e.length;++i)t.contentWindow.document.head.removeChild(n[i]);const i=t.contentWindow.document.documentElement.outerHTML;this.fileService.addFile(i)}document.body.removeChild(t),Object(i.a)()}}}}onHelpToggle(){const e=Object(i.b)();e.setShowHelp(!e.getShowHelp()),Object(i.e)(e),e.getShowHelp()||s.DETACHED_SET_TIMEOUT(()=>{e.getDataSubject().next(!0)},0)}onSlingDemo(){const e=this.fileService.buildSlingDemo(),t=Object(i.b)();t.setEditIndex(e),s.DETACHED_SET_TIMEOUT(()=>{t.getDataSubject().next(!0)},0)}view(){const e=Object(i.b)(),t=e.getHeightModifier(),n=e.getCollapsedMode(),o=e.getVersion();return Object(i.c)("div",{attrs:{style:"padding: 0.5rem; background-color: rgb(46, 49, 56); display: flex; flex-direction: row; flex-wrap: wrap;"},children:[Object(i.c)("div",{attrs:{style:"margin-right: 0.5rem; display: inline-block; color: rgb(204, 204, 204); align-self: center;"},children:[Object(i.c)("h4",{attrs:{style:"margin: 0px; display: inline-block; margin-right: 0.25rem;"},children:[Object(i.f)("Code Editor")]}),Object(i.c)("span",{children:[Object(i.f)(o)]})]}),Object(i.c)("button",{attrs:{onclick:this.addFile.bind(this),style:"margin-bottom: 0.25rem; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(i.f)("Add File")]}),Object(i.c)("button",{attrs:{onclick:this.expandHeight.bind(this),style:"margin-bottom: 0.25rem; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(i.f)("Expand")]}),...t>0?[Object(i.c)("button",{attrs:{onclick:this.shrinkHeight.bind(this),style:"margin-bottom: 0.25rem; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(i.f)("Shrink")]})]:[],Object(i.c)("button",{attrs:{onclick:this.onRun.bind(this),style:"margin-bottom: 0.25rem; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(i.f)("Run")]}),...!0===n?[Object(i.c)("button",{attrs:{onclick:this.togglePreview.bind(this),style:"margin-bottom: 0.25rem; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(i.f)("Toggle Preview")]})]:[],Object(i.c)("button",{attrs:{onclick:this.onExport.bind(this),style:"margin-bottom: 0.25rem; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(i.f)("Export")]}),Object(i.c)("label",{attrs:{id:"try-sling-import-label",for:"tryit-sling-import",style:"margin-bottom: 0.25rem; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(i.f)("Import File")]}),Object(i.c)("label",{attrs:{id:"try-sling-import-workspace-label",for:"tryit-sling-import-workspace",style:"margin-bottom: 0.25rem; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(i.f)("Import Workspace")]}),Object(i.c)("input",{attrs:{onchange:this.onImport.bind(this),id:"tryit-sling-import",type:"file",style:"display: none;"}}),Object(i.c)("input",{attrs:{onchange:this.onImportWorkspace.bind(this),id:"tryit-sling-import-workspace",type:"file",style:"display: none;"}}),Object(i.c)("button",{attrs:{onclick:this.onHelpToggle.bind(this),style:"margin-bottom: 0.25rem; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(i.f)("Toggle Help")]}),Object(i.c)("button",{attrs:{id:"tryit-sling-clear-console",onclick:this.onClearConsole.bind(this),style:"margin-bottom: 0.25rem; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(i.f)("Clear Console")]}),Object(i.c)("button",{attrs:{onclick:this.onSlingDemo.bind(this),style:"margin-bottom: 0.25rem; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); align-self: center; font: 400 13.3333px Arial; padding: 1px 6px;"},children:[Object(i.f)("Sling.js Demo")]})]})}};var b=class{constructor(){this.contentPanelComp=new u}slOnInit(){const e=document.getElementById("tryit-root").style.height,t=Object(i.b)();t.setInlineHeight(e),Object(i.e)(t)}view(){return Object(i.c)("div",{attrs:{id:"tryit-root",style:"background-color: rgb(21, 24, 30); width: 100%;"},children:[new p,this.contentPanelComp]})}};var f=class{constructor(){this.COLLAPSED_MODE_WIDTH=768}onWindowResize(){const e=Object(i.b)();window.outerWidth<=this.COLLAPSED_MODE_WIDTH?e.setCollapsedMode(!0):e.setCollapsedMode(!1),s.DETACHED_SET_TIMEOUT(()=>{e.getDataSubject().next(!0)},0),Object(i.e)(e),Object(i.a)()}addResizeListener(){window.addEventListener("resize",this.onWindowResize.bind(this)),this.onWindowResize()}};const m=e=>{const t={},n=[];let i=e;return t.subscribe=function(e){return n.push(e),this},t.clearSubscription=function(e){const t=n.filter(t=>t!==e);return this.clearSubscriptions(),n.concat(t),this},t.getHasSubscription=function(e){const t=n.find(t=>t===e);return null!=t&&void 0!==t},t.clearSubscriptions=function(){return n.splice(0,n.length),this},t.next=function(e){return i=e,n.forEach(e=>{e(i)}),this},t.getData=function(){return i},t};const y=new class{constructor(){this.editIndex=0,this.dataUpdated=m(!1),this.heightModifier=0,this.inlineHeight="",this.collapsedMode=!1,this.showPreview=!1,this.version="2.0",this.showHelp=!1,this.sourceHasNewInput=m(!1),this.invalidScriptIndices=m([]),this.caretPositionToRestore=0}getCaretPositionToRestore(){return this.caretPositionToRestore}setCaretPositionToRestore(e){this.caretPositionToRestore=e}getInvalidScriptIndexSubject(){return this.invalidScriptIndices}getShowHelp(){return this.showHelp}setShowHelp(e){this.showHelp=e}getVersion(){return this.version}getShowPreview(){return this.showPreview}setShowPreview(e){this.showPreview=e}getCollapsedMode(){return this.collapsedMode}setCollapsedMode(e){this.collapsedMode=e}getInlineHeight(){return this.inlineHeight}setInlineHeight(e){this.inlineHeight=e}getSourceHasNewInputSubject(){return this.sourceHasNewInput}getDataSubject(){return this.dataUpdated}getEditIndex(){return this.editIndex}setEditIndex(e){this.editIndex=e}getHeightModifier(){return this.heightModifier}setHeightModifier(e){this.heightModifier=e}};Object(i.e)(y),(new f).addResizeListener(),Object(i.d)("tryit-root",new b)}]);