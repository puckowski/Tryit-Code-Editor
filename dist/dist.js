!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=2)}([function(t,e,i){"use strict";(function(t){i.d(e,"e",(function(){return g})),i.d(e,"b",(function(){return f})),i.d(e,"f",(function(){return b})),i.d(e,"c",(function(){return p})),i.d(e,"d",(function(){return m})),i.d(e,"a",(function(){return I}));const n="undefined"!=typeof window;var r=n?window:t;n||(r.setTimeout=()=>{},r.setInterval=()=>{},r.location={},r.location.href="",r.fetch=()=>{},r.XMLHttpRequest={},r.XMLHttpRequest.prototype={},r.XMLHttpRequest.prototype.send=()=>{}),r.s=function(){};const o=r.setTimeout,c=r.setInterval;Object.defineProperty(s,"DETACHED_SET_TIMEOUT",{value:o.bind(r)}),Object.defineProperty(s,"DETACHED_SET_INTERVAL",{value:c.bind(r)}),s._state={},s._destroyFuncMap=new Map,s._updateMap=new Map,s._afterInitArr=[];const l=({tagName:t,attrs:e,children:i})=>{let n,r=document.createElement(t);for(let[t,i]of Object.entries(e))"function"==(n=typeof i)?(r[t]=i,s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&v(t,r)):r.setAttribute(t,i);for(let t of i)if("string"==typeof t)r.append(t);else{if(t.view){if(t.slOnInit&&t.slOnInit(),t.slOnDestroy){let e=s._destroyFuncMap.get(s._router.mountRoute);e||(e=[]),e.push(t.slOnDestroy.bind(t)),s._destroyFuncMap.set(s._router.mountRoute,e)}t.slAfterInit&&s._afterInitArr.push(t.slAfterInit.bind(t)),t=t.view.bind(t)()}r.appendChild(l(t))}return r},a=(t,e,i)=>{let n;for(let n of e){let e=i[n.name];e?e.length===n.nodeValue.length&&e===n.nodeValue&&delete i[n.name]:t.removeAttribute(n.nodeName)}for(let[e,r]of Object.entries(i))"function"==(n=typeof r)?(t[e]=r,s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&v(e,t)):t.setAttribute(e,r)},d=(t,e,i)=>{let n=0;for(let t=e.length-1;t>=0;--t)h(e[t],i[t]),n++;for(let r of i.slice(e.length)){if("string"==typeof r)t.childNodes[n]?t.childNodes[n].textContent!==r&&(t.childNodes[n].textContent=r):t.append(r);else if("string"==typeof r)t.append(r);else{if(r.view){if(r.slOnInit&&r.slOnInit(),r.slOnDestroy){let t=s._destroyFuncMap.get(s._router.mountRoute);t||(t=[]),t.push(r.slOnDestroy.bind(r)),s._destroyFuncMap.set(s._router.mountRoute,t)}r.slAfterInit&&s._afterInitArr.push(r.slAfterInit.bind(r)),r=r.view.bind(r)()}t.appendChild(l(r))}n++}for(;e.length>i.length;)e[e.length-1].remove()},h=(t,e)=>{if(e&&e.view){if(e.slOnInit&&e.slOnInit(),e.slOnDestroy){let t=s._destroyFuncMap.get(s._router.mountRoute);t||(t=[]),t.push(e.slOnDestroy.bind(e)),s._destroyFuncMap.set(s._router.mountRoute,t)}e.slAfterInit&&s._afterInitArr.push(e.slAfterInit.bind(e)),e=e.view.bind(e)()}if(e){if(t&&t.tagName!==e.tagName){if(!e.tagName)return t.replaceWith(e),void(t=e);{let i=document.createElement(e.tagName);t.parentNode.insertBefore(i,t),t=i}}if("string"!=typeof e){if(!e.attrs.sluseexisting)if(e.attrs.slonlychildren)d(t,t.childNodes,e.children);else if(e.attrs.slonlyself)a(t,t.attributes,e.attrs);else{if(e.attrs.sltrustchildren){a(t,t.attributes,e.attrs);let i="";return e.children.forEach(t=>{i+=t}),void(t.innerHTML!==i&&(t.innerHTML=i))}a(t,t.attributes,e.attrs),d(t,t.childNodes,e.children)}}else t.textContent!==e&&(t.textContent=e)}else t&&t.remove()},u=(t,e,i)=>{s._afterInitArr=[],e.slOnInit&&e.slOnInit();let n=e.view.bind(e)();if(n.view&&(n=n.view.bind(e)()),!n.attrs||t&&t.id!==n.attrs.id){const e=n.attrs?n.attrs.id:"null";console.error("Mounted component root element changed from "+t.id+" to "+e)}return h(t,n),i&&s._updateMap.set(t.id,e),e.slAfterInit&&(e.slAfterInit(),x()),s._afterInitArr.forEach(t=>{t()}),t};function g(t){s._state=t}function f(){return s._state}function b(t){return String(t)}function p(t,{attrs:e={},children:i=[]}={}){return{tagName:t=t.toUpperCase(),attrs:e,children:i}}function m(t,e,i=!0){s._router.mountRoute=t;let n=document.getElementById(t);if(null!==n)return u(n,e,i);console.error("ID "+t+" does not exist in DOM.")}let O=r.onpopstate;r.onpopstate=function(t){r.location.hash&&s._router.lastHash!==r.location.hash.substring(1)&&(O&&O(t),function t(e,i={},n=!0){if(s._router.params=i,s._router.currentRoute&&s._router.currentRoute.onCanDeactivate&&!s._router.currentRoute.onCanDeactivate(e))return;let o=null;for(let[i,c]of s._router.routeList)if(i.test(e)){if(c.onActivationCheck&&!c.onActivationCheck(e))return c.onActivationFail&&(o=t(c.onActivationFail.route,c.onActivationFail.params,"boolean"!=typeof c.onActivationFail.attachDetector||c.onActivationFail.attachDetector)),void(e=void 0);c.onBeforeRoute&&c.onBeforeRoute();const i=s._destroyFuncMap.get(j());i&&(i.forEach(t=>{t()}),s._destroyFuncMap.set(j(),[])),s._router.lastHash=e,r.location.hash=e,y(),s._router.currentRoute=c;let l=document.getElementById(c.root);c.component&&(c.component.slOnDestroy&&s._destroyFuncMap.set(e,[c.component.slOnDestroy.bind(c.component)]),s._router.mountRoute=e,u(l,c.component,n),o=c.component);break}return s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&x(),o}(j()))},s._router={segmentArr:[],routeList:[],params:null,lastHash:!1,currentRoute:null,mountRoute:""},Object.seal(s._router);const y=()=>{let t=r.location.href.split("#")[1];if(t){let e=t.split("/");e.forEach((t,e)=>{s._router.segmentArr[e]=t}),s._router.segmentArr.splice(e.length,s._router.segmentArr.length)}else s._router.segmentArr.splice(0,s._router.segmentArr.length)};function j(){return r.location.href.split("#")[1]}y(),s.CHANGE_STRATEGY_AUTOMATIC=100,s.CHANGE_STRATEGY_MANUAL=200,s.CHANGE_DETECTOR_DETACHED=!1,s.CHANGE_DETECTOR_ATTACHED=!0,s._changeStrategies=[s.CHANGE_STRATEGY_AUTOMATIC,s.CHANGE_STRATEGY_MANUAL],s._changeDetector={lastUpdateDate:new Date,changeDetectionStrategy:s.CHANGE_STRATEGY_AUTOMATIC},Object.seal(s._changeDetector),Object.freeze(s._changeStrategies);const v=(t,e)=>{if(e[t]){let i=e[t];e[t]=function(){let t=i.apply(this,[].slice.call(arguments));return x(),t}}};const _=()=>{s._updateMap.forEach((t,e)=>{!function(t,e){const i=t;if(t=document.getElementById(t)){let i=e.view.bind(e)();h(t,i)}else console.error("ID "+i+" not mounted in DOM; attachDetector likely needs to be called.")}(e,t)})},x=()=>{s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&(new Date-s._changeDetector.lastUpdateDate>17?_():s._debouncedPerformUpdates(),s._changeDetector.lastUpdateDate=new Date)};function I(){_()}s._debouncedPerformUpdates=function(t,e){let i;return function(...n){const r=this;clearTimeout(i),i=s.DETACHED_SET_TIMEOUT(()=>t.apply(r,n),e)}}(_,17);let A=r.XMLHttpRequest.prototype.send;function S(){if(this._onreadystatechange){let t=this._onreadystatechange.apply(this,arguments);return x(),t}}r.XMLHttpRequest.prototype.send=function(t){return this.onreadystatechange&&(this._onreadystatechange=this.onreadystatechange),this.onreadystatechange=S,A.apply(this,arguments)};let F=r.fetch;r.fetch=function(){let t=F.apply(this,arguments);return x(),t},v("setTimeout",r),v("setInterval",r)}).call(this,i(1))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";i.r(e);var n=i(0);var r=class{constructor(){this.fileListObject="filelist",this.initializeFileList()}getFile(t){return this.getFileList().find(e=>e.index===t)}getFileData(t){const e=this.getFileList().find(e=>e.index===t);return e?e.data:""}getFileList(){const t=localStorage.getItem(this.fileListObject);return JSON.parse(t)}addFile(){const t=this.getFileList();let e=0;const i=new Set(t.map(t=>t.index));for(;i.has(e);)e++;t.push(this.getFileObject(e)),this.setFileList(t)}removeFile(t){let e=this.getFileList();e=e.filter(e=>e.index!==t),this.setFileList(e)}updateFileData(t,e){const i=this.getFileList(),n=i.find(e=>e.index===t);n&&(n.data=e),this.setFileList(i)}updateFileInject(t){const e=this.getFileList(),i=e.find(e=>e.index===t);i&&(i.injectScript?i.injectScript=!i.injectScript:i.injectScript=!0),this.setFileList(e)}setFileName(t,e){const i=this.getFileList(),n=i.find(e=>e.index===t);n&&(n.name=e),this.setFileList(i)}setFileList(t){localStorage.setItem(this.fileListObject,JSON.stringify(t))}getFileObject(t){return{name:"",index:t,data:"",injectScript:!1}}initializeFileList(){const t=localStorage.getItem(this.fileListObject);if(null==t||null==t)localStorage.setItem(this.fileListObject,JSON.stringify([]));else{const e=JSON.parse(t);Array.isArray(e)||localStorage.setItem(this.fileListObject,JSON.stringify([]))}}};var s=class{constructor(){this.fileService=new r,this.editNameIndex=-1,this.editedFileName=""}onEditName(t){this.editNameIndex=t;const e=this.fileService.getFile(t);this.editedFileName=e.name?e.name:""}onFinishEditName(t){this.fileService.setFileName(t,this.editedFileName),this.editedFileName="",this.editNameIndex=-1}onFileNameInput(t){this.editedFileName=t.target.value}onFileSelection(t){const e=Object(n.b)();e.setEditIndex(t),e.getDataSubject().next(!0),Object(n.e)(e)}onRemoveFile(t){this.fileService.removeFile(t),Object(n.b)().getDataSubject().next(!0)}onToggleInject(t){this.fileService.updateFileInject(t),Object(n.b)().getDataSubject().next(!0)}view(){const t=this.fileService.getFileList(),e=Object(n.b)().getEditIndex();return Object(n.c)("div",{attrs:{style:"background-color: rgb(32, 35, 39); color: rgb(204, 204, 204); overflow: auto; max-height: inherit;"},children:[...Array.from(t,t=>Object(n.c)("div",{attrs:{...e!==t.index&&{style:"padding: 0.5rem;"},...e===t.index&&{style:"padding: 0.5rem; background-color: rgb(60, 68, 83);"},onclick:this.onFileSelection.bind(this,t.index)},children:[Object(n.c)("button",{attrs:{style:"margin-right: 0.5rem; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204);",...t.index!==this.editNameIndex&&{onclick:this.onEditName.bind(this,t.index)},...t.index===this.editNameIndex&&{onclick:this.onFinishEditName.bind(this,t.index)}},children:[...t.index===this.editNameIndex?[Object(n.f)("Save Name")]:[Object(n.f)("Edit Name")]]}),Object(n.c)("button",{attrs:{style:"margin-right: 0.5rem; background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204);",onclick:this.onRemoveFile.bind(this,t.index)},children:[Object(n.f)("Remove File")]}),Object(n.c)("div",{children:[Object(n.f)("File "+(t.index+1)+": "+t.name)]}),...t.index===this.editNameIndex?[Object(n.c)("input",{attrs:{style:"margin-left: 0.5rem;",oninput:this.onFileNameInput.bind(this),value:this.editedFileName}})]:[],Object(n.c)("div",{children:[Object(n.c)("span",{attrs:{style:"margin-right: 0.25rem;"},children:[Object(n.f)("Inject Script")]}),Object(n.c)("input",{attrs:{type:"checkbox",...t.injectScript&&{checked:"true"},onchange:this.onToggleInject.bind(this,t.index)}})]})]}))]})}};var o=class{constructor(){this.fileService=new r,this.injectedList=""}slAfterInit(){const t=Object(n.b)().getDataSubject();t.subscribe(()=>{this.injectedList="Injected scripts: ";const t=document.getElementById("tryit-sling-iframe"),e=Object(n.b)().getEditIndex(),i=this.fileService.getFileData(e);let r=this.fileService.getFileList();r=r.filter(t=>t.injectScript);const s=t.contentWindow?t.contentWindow:t.contentDocument.document?t.contentDocument.document:t.contentDocument;s.document.open(),s.document.write(i),s.document.head&&r.forEach((t,i)=>{if(t.index!==e&&t.data&&t.data.length>0){var n=document.createElement("script");n.type="text/javascript",n.text=t.data,n.type="module",s.document.head.appendChild(n),i>0&&(this.injectedList+=", "),this.injectedList+=t.index+1,t.name.length>0&&(this.injectedList+=" ("+t.name+")")}}),s.document.close(),s.document.head&&Object(n.a)()}),t.next(!0)}addFile(){this.fileService.addFile()}view(){return Object(n.c)("div",{attrs:{style:"color: rgb(204, 204, 204); max-height: inherit; overflow: auto;"},children:[Object(n.c)("h4",{children:[Object(n.f)("Preview")]}),...this.injectedList.length>18?[Object(n.c)("div",{attrs:{style:"background-color: rgb(46, 49, 56); padding: 0.25rem;"},children:[Object(n.f)(this.injectedList)]})]:[],Object(n.c)("iframe",{attrs:{frameborder:"0",id:"tryit-sling-iframe",slonlyself:"true",style:"background-color: #ffffff;"}})]})}};var c=class{constructor(){this.fileService=new r}slAfterInit(){Object(n.b)().getDataSubject().subscribe(()=>{const t=Object(n.b)().getEditIndex(),e=this.fileService.getFileData(t);document.getElementById("tryit-sling-textarea").value=e})}onInput(t){const e=Object(n.b)().getEditIndex();this.fileService.updateFileData(e,t.target.value)}view(){const t=Object(n.b)().getEditIndex(),e=this.fileService.getFile(t);return Object(n.c)("div",{attrs:{style:"padding: 0.25rem; background-color: rgb(21, 24, 30); color: rgb(204, 204, 204); overflow: auto; height: 100%; display: flex; flex-direction: column;"},children:[Object(n.c)("h4",{children:[...e?[Object(n.f)("File "+(e.index+1)+": "+e.name)]:[]]}),Object(n.c)("textarea",{attrs:{style:"width: 100%; height: 90%; background-color: rgb(0, 0, 0); border: none; color: rgb(204, 204, 204); flex: 1;",oninput:this.onInput.bind(this),id:"tryit-sling-textarea"}})]})}};var l=class{constructor(){this.fileService=new r,this.fileTreeComp=new s,this.previewComp=new o,this.unitList=["cm","mm","in","px","pt","pc","em","ex","ch","rem","vw","vh","vmin","vmax","%"]}getHeightString(t,e){let i="";if(t&&t.length>0){let n=t;this.unitList.forEach(t=>{n=n.replace(t,"")});const r=Number(n),s=r+e*(r/100),o=t.replace(n,""),c=String(s)+o;i="max-height: "+c+"; height: "+c+";"}else{const t=e+50;i="max-height: "+String(t)+"vh; height: "+String(t)+"vh;"}return i}view(){const t=Object(n.b)(),e=t.getInlineHeight(),i=t.getHeightModifier(),r=this.getHeightString(e,i);return Object(n.c)("div",{children:[Object(n.c)("div",{attrs:{style:"display: flex; justify-content: space-between;"+r},children:[Object(n.c)("div",{attrs:{style:"width: 16%; max-height: inherit;"},children:[this.fileTreeComp]}),Object(n.c)("div",{attrs:{style:"width: 42%; max-height: inherit;"},children:[new c]}),Object(n.c)("div",{attrs:{style:"width: 42%; max-height: inherit;"},children:[this.previewComp]})]})]})}};var a=class{constructor(){this.fileService=new r}addFile(){this.fileService.addFile()}expandHeight(){const t=Object(n.b)();let e=t.getHeightModifier();e+=10,t.setHeightModifier(e),Object(n.e)(t)}shrinkHeight(){const t=Object(n.b)();let e=t.getHeightModifier();e-=10,t.setHeightModifier(e),Object(n.e)(t)}onRun(){Object(n.b)().getDataSubject().next(!0)}view(){const t=Object(n.b)().getHeightModifier();return Object(n.c)("div",{attrs:{style:"padding: 0.5rem; background-color: rgb(46, 49, 56); display: flex; flex-direction: row;"},children:[Object(n.c)("div",{attrs:{style:"margin-right: 0.5rem; display: inline-block; color: rgb(204, 204, 204); align-self: center;"},children:[Object(n.c)("h4",{attrs:{style:"margin-bottom: 0px;"},children:[Object(n.f)("Code Editor")]})]}),Object(n.c)("button",{attrs:{onclick:this.addFile.bind(this),style:"background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center;"},children:[Object(n.f)("Add File")]}),Object(n.c)("button",{attrs:{onclick:this.expandHeight.bind(this),style:"background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center;"},children:[Object(n.f)("Expand")]}),...t>0?[Object(n.c)("button",{attrs:{onclick:this.shrinkHeight.bind(this),style:"background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204); margin-right: 0.5rem; align-self: center;"},children:[Object(n.f)("Shrink")]})]:[],Object(n.c)("button",{attrs:{onclick:this.onRun.bind(this),style:"background-color: rgba(255,255,255,0.3); border: none; color: rgb(204, 204, 204);"},children:[Object(n.f)("Run")]})]})}};var d=class{constructor(){this.contentPanelComp=new l}slOnInit(){const t=document.getElementById("tryit-root").style.height,e=Object(n.b)();e.setInlineHeight(t),Object(n.e)(e)}view(){return Object(n.c)("div",{attrs:{id:"tryit-root",style:"background-color: rgb(21, 24, 30); width: 100%;"},children:[new a,this.contentPanelComp]})}};const h=t=>{const e={},i=[];let n=t;return e.subscribe=function(t){return i.push(t),this},e.clearSubscription=function(t){const e=i.filter(e=>e!==t);return this.clearSubscriptions(),i.concat(e),this},e.clearSubscriptions=function(){return i.splice(0,i.length),this},e.next=function(t){return n=t,i.forEach(t=>{t(n)}),this},e.getData=function(){return n},e};const u=new class{constructor(){this.editIndex=0,this.dataUpdated=h(!1),this.heightModifier=0,this.inlineHeight=""}getInlineHeight(){return this.inlineHeight}setInlineHeight(t){this.inlineHeight=t}getDataSubject(){return this.dataUpdated}getEditIndex(){return this.editIndex}setEditIndex(t){this.editIndex=t}getHeightModifier(){return this.heightModifier}setHeightModifier(t){this.heightModifier=t}};Object(n.e)(u),Object(n.d)("tryit-root",new d)}]);